{"version":3,"sources":["components/notice/Notice.jsx","components/topbar/Topbar.jsx","components/Friend/Friend.jsx","components/sidebar/Sidebar.jsx","components/share/Share.jsx","components/post/Post.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","context/AuthReducer.js","context/AuthContext.js","pages/login/Login.jsx","dummyData.js","components/popup/Popup.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/\bmessenger/Messenger.jsx","pages/singlePost/SinglePost.jsx","App.js","index.js"],"names":["Notice","notices","location","useLocation","useState","allNotices","setAllNotices","user","JSON","parse","localStorage","getItem","acceptLoading","setAcceptLoading","hasMore","setHasMore","page","setPage","history","useHistory","useEffect","length","handleLink","notice","a","console","log","axios","put","_id","res","data","object","pathname","window","reload","push","state","username","senderUsername","get","senderId","receiverId","chat","postId","updateNotice","fetchData","prevNotices","getNotification","className","id","dataLength","next","loader","CircularProgress","size","endMessage","style","textAlign","scrollThreshold","scrollableTarget","map","n","onClick","read","includes","color","src","senderPic","alt","EmojiPeopleRounded","htmlColor","format","createdAt","AddPhotoAlternate","Button","backgroundColor","marginRight","e","stopPropagation","delete","newNotice","profilePicture","post","action","acceptFriendRequest","Chat","Favorite","Topbar","search","setSearch","display","setDisplay","results","setResults","searching","setSearching","noticePopup","setNoticePopup","setNotices","setNewNotice","wrapperRef","useRef","reduce","val","document","addEventListener","handleClickOuteside","removeEventListener","event","wrap","current","contains","target","cancel","cancelToken","CancelToken","c","searchResult","to","textDecoration","ref","Search","placeholder","onChange","value","MenuItem","Notifications","ExitToApp","clear","href","Friend","Sidebar","setUser","fetchUser","RssFeed","cursor","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","u","Share","file","setFile","isLoading","setIsLoading","desc","submitHandler","preventDefault","newPost","userId","form","FormData","append","uploadFile","fetch","method","headers","Authorization","body","then","json","link","img","directpost","sendNotice","followers","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","type","accept","files","Label","Room","EmojiEmotions","disabled","Post","likes","like","setLike","isLiked","setIsLiked","currentComment","setCurrentComment","currentUser","hideComment","setHideComment","sendComment","key","datenow","Date","commentData","userName","userPic","comment","date","likeHandler","likePost","err","showComment","MoreVert","ThumbUpOutlined","ChatBubbleOutline","onKeyPress","Feed","posts","setPosts","fetchPosts","sort","p1","p2","prevPosts","p","Online","friend","setFriend","getUser","Rightbar","friends","setFriends","followed","setFollowed","setState","stateIcon","setStateIcon","onlineUsers","setOnlineUsers","socket","resFriend","resPending","userFriends","isFriend","find","PersonAdd","PersonAddDisabled","RecordVoiceOver","checkFriendAndPending","io","process","transports","emit","on","users","filter","f","some","friendList","getFriends","handleClick","setItem","stringify","sendPending","HomeRightbar","ProfileRightbar","startIcon","marginBottom","marginTop","fontSize","alignItems","padding","city","from","relationship","Home","LoginCall","userCredential","dispatch","interceptors","request","use","config","jwt_decode","user_data","payload","AuthReducer","isFetching","error","followings","following","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","Provider","Login","email","password","useContext","required","minLength","response","message","Countries","City","Popup","props","trigger","Profile","popup","setPopup","editProfile","setEditProfile","editCover","setEditCover","country","handleEditFile","coverUrl","profileUrl","undefined","url","coverPicture","updateResult","Message","setChat","Edit","IconButton","HighlightOff","PhotoLibrary","TextField","width","defaultValue","inputRef","LocationCity","name","Language","cn","FavoriteBorder","Register","passwordAgain","setError","maxLength","setCustomValidity","Conversation","conversation","friendId","members","m","own","text","ChatOnline","currentId","switchChat","setCurrentChat","setOnlineFriends","o","Messenger","conversations","setConversations","currentChat","currentData","setCurrentData","messages","setMessages","arrivalMessage","setArrivalMessage","newMessage","scrollRef","sender","now","prev","getMessages","getConversations","scrollIntoView","behavior","handleSubmit","conversationId","member","test","sessionStorage","removeItem","enterSubmit","SinglePost","setPost","getPost","App","token","token_time","exp","defaults","baseURL","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.defcebbf.chunk.js","sourcesContent":["import './notice.css'\nimport { Button,CircularProgress } from '@material-ui/core'\nimport { EmojiPeopleRounded,Chat,AddPhotoAlternate,Favorite } from '@material-ui/icons';\nimport {format} from 'timeago.js'\nimport axios from 'axios';\nimport { useHistory,useLocation } from 'react-router-dom';\nimport { useState } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { useEffect } from 'react';\nexport default function Notice({notices}) {\n    let location = useLocation();\n    const [allNotices,setAllNotices] = useState(notices)\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    const [acceptLoading,setAcceptLoading] =useState(false)\n    const [hasMore, setHasMore] = useState(true)\n    const [page ,setPage] = useState(1)\n    const history = useHistory();\n    useEffect(() => {\n        if(notices.length===0){\n            setHasMore(false)\n        }\n    }, [notices])\n    const handleLink = (notice)=>{\n        //要發送更改read的API      \n        //根據有沒有\bread過來決定會不會觸發\n        const updateNotice = async()=>{\n            console.log(\"test\")\n            const res = await axios.put('/api/notice/update/'+notice._id)\n            console.log(res.data.data)\n            if(notice.object === 'post' || notice.object==='friendRequest'|| notice.object==='friendAccepted'){\n                if(location.pathname === \"/profile\"){\n                    window.location.reload(window.location.reload)\n                }else{\n                    history.push({\n                        pathname: '/profile',\n                        state: { username: notice.senderUsername }\n                    })\n                }\n            }\n            else if(notice.object ==='message'){\n                let res = await axios.get(`/api/conversations/find/${notice.senderId}/${notice.receiverId[0]}`);\n                if(location.pathname === \"/messenger\"){\n                    window.location.reload()\n                }else{\n                    history.push({\n                        pathname: '/messenger',\n                        state: { chat: res.data.data }\n                    })\n                }\n            }\n            else if(notice.object ==='comment' || notice.object ==='like'){\n                 if(location.pathname === \"/post/\"+notice.postId){\n                    window.location.reload(window.location.reload)\n                }else{\n                    history.push({\n                        pathname:'/post/'+notice.postId,\n                        state: { postId: notice.postId}\n                    })\n                }\n            }\n        }\n        updateNotice()     \n    }\n    const acceptFriendRequest = (e,notice)=>{\n        e.stopPropagation();\n        setAcceptLoading(true)\n        console.log(notice)\n        //加朋友 並且刪除提醒和pending\n        const action = async()=>{\n            const addFriend = await axios.put(\"/api/users/friend/\"+notice.senderId)\n            const deleteNotice = await axios.delete('/api/notice/delete/'+notice._id)\n            const deletePending = await axios.delete('/api/users/pending/'+notice.senderId)\n            const newNotice = {\n                senderId : user._id,\n                object : \"friendAccepted\",\n                senderPic : user.profilePicture,\n                senderUsername : user.username,\n                receiverId: notice.senderId\n            }\n            const sendNotice = await axios.post('/api/notice',newNotice)\n            //window.location.reload()\n            // console.log(addFriend.data.data)\n            // console.log(deleteNotice.data.data)\n            // console.log(deletePending.data.data)\n            // console.log(sendNotice.data.data)\n            setAcceptLoading(false)\n\t    window.location.reload()\n        }\n        action()\n    }\n    const fetchData = async()=>{\n        console.log(\"trigger\")\n        const getNotification = async()=>{\n            try{\n                 const res = await axios('/api/notice/'+user._id+\"/\"+page)\n                 console.log(res.data.data)\n                 if(res.data.data.length===0){\n                     setHasMore(false)\n                 }\n                 \n                 setAllNotices (prevNotices=>{\n                     return([...prevNotices,...res.data.data])\n                 });\n                 console.log(notices)\n                 setPage(page+1)\n                 console.log(page)\n            }catch(err){\n                console.log(err)\n            }\n        } \n        getNotification()\n    }\n    return (\n        <div className=\"notice\" id=\"scrollableDiv\">\n            <div className=\"noticeWrapper\">\n                <div className=\"noticeTop\">\n                    <h1>通知</h1>\n                </div>\n                <div className=\"noticeCenter\" >\n                                \n                    <InfiniteScroll\n                        className=\"feedScrollbar\"\n                        dataLength={allNotices.length} //This is important field to render the next data\n                        next={fetchData}\n                        hasMore={hasMore}\n                        loader={<div className=\"onLoading\"><CircularProgress  size=\"20px\"/></div>}\n                        endMessage={\n                        <p style={{ textAlign: 'center' }}>\n                            <b> \"暫時沒有其他通知了！\" </b>\n                        </p>\n                        }\n                        scrollThreshold=\"95%\"\n                        scrollableTarget=\"scrollableDiv\"\n                    >\n                    {allNotices && allNotices.map( (n) =>{\n                        switch(n.object){\n                            case 'friendAccepted':\n                                return(\n                                    <div className=\"noticeMessage\" key={n._id} onClick={()=>handleLink(n)} style={n.read.includes(user._id) ?{color:\"gray\"}:{}}>\n                                        <div className=\"noticeMessageCotentLeft\">\n                                            <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                            <EmojiPeopleRounded  htmlColor=\"white\" className=\"noticeTypeImgFriend\" />\n                                        </div>\n                                        <div className=\"noticeMessageCotentRight\">\n                                            <span><b>{n.senderUsername}</b>和你成為了朋友</span>\n                                            <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                        </div>\n                                    </div>\n                                )\n                            case 'post':\n                                return(\n                                    <div className=\"noticeMessage\" key={n._id} onClick={()=>handleLink(n)} style={n.read.includes(user._id) ?{color:\"gray\"}:{}}>\n                                        <div className=\"noticeMessageCotentLeft\">\n                                            <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                            <AddPhotoAlternate  htmlColor=\"white\" className=\"noticeTypeImgPost\"/>\n                                        </div>\n                                        <div className=\"noticeMessageCotentRight\">\n                                            <span><b>{n.senderUsername}</b>發布了一則近況更新 </span>\n                                            <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                        </div>\n                                    </div>\n                                )\n                            case 'friendRequest':\n                                return(\n                                    <div className=\"noticeMessageFriend\" key={n._id} onClick={()=>handleLink(n)} style={n.read.includes(user._id) ?{color:\"gray\"}:{}}>\n                                        <div className =\"noticeMessageFriendContent\">\n                                            <div className=\"noticeMessageCotentLeft\">\n                                                <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                                <EmojiPeopleRounded  htmlColor=\"white\" className=\"noticeTypeImgFriend\"/>\n                                            </div>\n                                            <div className=\"noticeMessageCotentRight\">\n                                                <span><b>{n.senderUsername}</b>發送了一個朋友邀請給你喔</span>\n                                                <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                            </div>\n                                        </div>\n                                        <div className= \"noticeMessageFriendRequest\">\n                                            <Button  style={{backgroundColor:\"#1877F2\",color:\"white\",marginRight:\"20px\"}} onClick={(e)=>acceptFriendRequest(e,n)}>\n                                                {acceptLoading ? <CircularProgress color=\"white\" size=\"20px\"/> : \"確認\"}\n                                            </Button>\n                                            <Button  style={{backgroundColor:\"#E4E6EB\"}}>刪除</Button>\n                                        </div>\n                                    </div>\n                                )\n                            case 'message':\n                                return(\n                                    <div className=\"noticeMessage\" key={n._id} onClick={()=>handleLink(n)} style={n.read.includes(user._id) ?{color:\"gray\"}:{}}>\n                                        <div className=\"noticeMessageCotentLeft\">\n                                            <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                            <Chat htmlColor=\"white\" className=\"noticeTypeImgMessage\"/>\n                                        </div>\n                                        <div className=\"noticeMessageCotentRight\">\n                                            <span><b>{n.senderUsername}</b>傳送了訊息給你</span>\n                                            <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                        </div>\n                                        \n                                    </div>\n                                )\n                            case 'comment':\n                                return(\n                                    <div className=\"noticeMessage\" key={n._id} onClick={()=>handleLink(n)} style={n.read.includes(user._id) ?{color:\"gray\"}:{}}>\n                                        <div className=\"noticeMessageCotentLeft\">\n                                            <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                            <Chat  htmlColor=\"white\" className=\"noticeTypeImgPost\"/>\n                                        </div>\n                                        <div className=\"noticeMessageCotentRight\">\n                                            <span><b>{n.senderUsername}</b>在你的貼文底下留言</span>\n                                            <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                        </div>\n                                        \n                                    </div>\n                                )\n                            case 'like':\n                                return(\n                                    <div className=\"noticeMessage\" key={n._id} onClick={()=>handleLink(n)} style={n.read.includes(user._id) ?{color:\"gray\"}:{}}>\n                                        <div className=\"noticeMessageCotentLeft\">\n                                            <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                            <Favorite  htmlColor=\"white\" className=\"noticeTypeImgLike\"/>\n                                        </div>\n                                        <div className=\"noticeMessageCotentRight\">\n                                            <span><b>{n.senderUsername}</b>按讚了你的貼文</span>\n                                            <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                        </div>\n                                        \n                                    </div>\n                                )\n                            default:\n                                return(\n                                    <div className=\"noticeMessage\">\n                                        <div className=\"noticeMessageCotentLeft\">\n                                            <img src={n.senderPic!==\"\" ? n.senderPic : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"noticeImg\" />\n                                            <Chat  htmlColor=\"white\" className=\"noticeTypeImgMessage\"/>\n                                        </div>\n                                        <div className=\"noticeMessageCotentRight\">\n                                            <span><b>{n.senderUsername}</b>在你的貼文底下留言</span>\n                                            <span className=\"noticeTimestamp\">{format(n.createdAt)}</span>\n                                        </div>\n                                        \n                                    </div>\n                                )\n                        }\n                    })}\n                    </InfiniteScroll>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import \"./topbar.css\"\nimport Notice  from '../notice/Notice'\nimport { Search,Person,Chat,Notifications,ExitToApp} from \"@material-ui/icons\"\nimport { MenuItem,CircularProgress} from \"@material-ui/core\";\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useRef } from \"react\";\nexport default function Topbar(){\n    let history = useHistory();\n    //const [member,setMember] = useState({});\n    const [search, setSearch] = useState(\"\");\n    const [display,setDisplay] = useState(false);\n    const [results,setResults] = useState([]);\n    const [searching,setSearching] = useState(false);\n    const [noticePopup,setNoticePopup] = useState(false)\n    const [notices,setNotices] = useState(null)\n    const [newNotice,setNewNotice] = useState(null)\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    const wrapperRef = useRef(null) //利用此點判斷滑鼠的落點區域\n    //導入notification\n    useEffect(()=>{\n       const getNotification = async()=>{\n           try{\n                const res = await axios('/api/notice/'+user._id+\"/\"+0)\n                setNotices(res.data.data)\n                console.log()\n                setNewNotice(res.data.data.reduce(function(n, val) {\n                    return n + (!val.read.includes(user._id));\n                }, 0))\n           }catch(err){\n               console.log(err)\n           }\n       } \n       getNotification()\n    },[])\n    //判斷搜尋欄開關\n    useEffect(()=>{\n        document.addEventListener('mousedown',handleClickOuteside)\n        return ()=>{\n            document.removeEventListener('mousedown',handleClickOuteside)\n        };\n    },[]);\n\n    const handleClickOuteside = event =>{\n        const {current:wrap} = wrapperRef;\n        if (wrap&& !wrap.contains(event.target)){\n            setDisplay(false);\n        }\n    }\n\n    const signout = () =>{\n        localStorage.clear();\n\twindow.location.href='/' \n        //window.history.pushState(null, '/login');\n        //window.location.reload()\n    }\n    //console.log(member.city)\n    //透過user token在對遠端做要求\n    useEffect(()=>{\n        if (search===\"\"){\n\n        }else{\n            let cancel\n            setSearching(true)\n            const searching = async()=>{\n                try{\n                    const searchResult = await axios.get('api/users/search/'+search,{\n                        cancelToken: new axios.CancelToken(c => cancel = c)\n                    })\n                    setResults(searchResult.data.data)\n                    setSearching(false)\n                }catch(err){\n                    console.log(err)\n                    setSearching(false)\n                    setResults([])\n                }\n            };\n            searching()\n            return () => cancel()\n        }\n    },[search])\n    //此處做切版\n    return(\n        <div className=\"topbarContainer\">\n            <div className=\"topbarLeft\">\n                <Link to=\"/\" style={{textDecoration:\"none\"}}>\n                <span className=\"logo\">HardCo.Social</span>\n                </Link>\n            </div>\n            <div className=\"topbarCenter\" ref={wrapperRef}>\n                <div className=\"searchbar\">\n\n                    <Search className=\"searchIcon\" />\n                    <input\n                        placeholder=\"尋找朋友、貼文或影片\"\n                        className=\"searchInput\"\n                        onChange={(e)=>setSearch(e.target.value)}\n                        onClick ={()=>setDisplay(!display)}\n                    />\n                </div>\n                {display &&(\n                    <div className=\"autoContainer\">\n\n                        {results.map((value)=>{\n                            return(\n                                <div onClick={() => history.push({pathname:\"/profile\",state:{username: value.username}})} key={value._id}>\n                                    <MenuItem className=\"searchItem\">\n                                        <img src={value.profilePicture!==\"\"? value.profilePicture:\"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"topbarImg\" />\n                                        {value.username}\n                                    </MenuItem>\n                                </div>\n                                \n                            )\n                        })}\n                            {searching? <div className=\"onSearch\"><CircularProgress color=\"gray\" size=\"30px\"/> </div>: null}\n                    </div>\n                 )}  \n                \n            </div>\n            <div className=\"topbarRight\">\n                {/* <div className=\"topbarLinks\">\n                </div> */}\n                <div className=\"topbarIcons\">\n                    {/* <div className=\"topbarIconItem\">\n                        <Person/>\n                        <span className=\"topbarIconBadge\">1</span>\n                    </div> */}\n                    {/* <Link to={\"/messenger\"} style={{textDecoration:\"none\" ,color:\"inherit\"}}>\n                    <div className=\"topbarIconItem\">\n                        <Chat/>\n                    </div>\n                    </Link> */}\n                    \n                    {noticePopup &&(\n                        <Notice notices = {notices} />\n                 )}  \n                </div>\n                <div onClick={() => history.push({pathname:\"/profile\",state:{username: user.username}})}>\n                <img src={user.profilePicture ? user.profilePicture : \"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" className=\"topbarImg\" />\n                </div>\n                <div className=\"topbarIconItem\" onClick={()=>setNoticePopup(!noticePopup)}>\n                        <Notifications/>\n\n                        {\n                            //算出notices內 read= false的數量 \n                            newNotice!==0 && \n                            <span className=\"topbarIconBadge\">\n                                { newNotice }\n                            </span>\n                            \n                        }              \n                </div>\n                <div className=\"topbarIconItem\">\n                        <ExitToApp/>\n                        <span onClick={signout}>登出</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import './friend.css'\nimport { useHistory } from 'react-router';\nexport default function Friend({user}) {\n    const history = useHistory();\n    return (\n        <div onClick={() => history.push({pathname:\"/profile\",state:{username: user.username}})}>\n            <li className=\"sidebarFriend\">\n                <img src={user.profilePicture === \"\" ? \"https://i.imgur.com/HeIi0wU.png\" : user.profilePicture}  alt=\"\" className=\"sidebarFriendImg\" />\n                <span className=\"sidebarFriendName\">{user.username}</span>\n            </li>\n        </div>\n    )\n}\n","import './sidebar.css'\nimport {RssFeed,Group,Bookmark,HelpOutline,WorkOutline,Event,Chat,School,PlayCircleFilledOutlined} from '@material-ui/icons'\nimport Friend from '../Friend/Friend'\nimport { useEffect } from 'react'\nimport axios from 'axios'\nimport { useState } from 'react'\nimport { Link } from 'react-router-dom'\nexport default function Sidebar(){\n    const [user,setUser] = useState([])\n    useEffect(()=>{\n        const fetchUser = async ()=>{\n            const res = await axios.get(\n                '/api/users/recommend',\n                // config\n            )\n            setUser(res.data.data)\n        };\n        fetchUser()      \n    },[])\n    return(\n        <div className=\"sidebar\">\n            <div className=\"sidebarWrapper\">\n                <ul className=\"sidebarList\">\n                    <li className=\"sidebarListItem\">\n                        <RssFeed className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Feed</span>\n                    </li>\n                    <div onClick={() => window.location.href=\"/messenger\"} style= {{cursor:\"pointer\"}}>\n                    <li className=\"sidebarListItem\">\n                        <Chat className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">聊天室</span>\n                    </li>\n                    </div>\n                    <li className=\"sidebarListItem\">\n                        <PlayCircleFilledOutlined className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Videos</span>\n                    </li>\n                    <li className=\"sidebarListItem\">\n                        <Group className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Groups</span>\n                    </li>\n                    <li className=\"sidebarListItem\">\n                        <Bookmark className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Bookmarks</span>\n                    </li>\n                    <li className=\"sidebarListItem\">\n                        <HelpOutline className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Questions</span>\n                    </li>\n                    <li className=\"sidebarListItem\">\n                        <WorkOutline className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Jobs</span>\n                    </li>\n                    <li className=\"sidebarListItem\">\n                        <Event className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Events</span>\n                    </li>\n                    <li className=\"sidebarListItem\">\n                        <School className=\"sidebarIcon\"/>\n                        <span className=\"sidebarListItemText\">Courses</span>\n                    </li>\n                </ul>\n                <button className=\"sidebarButton\">顯示更多</button>\n                <hr className=\"sidebarHr\"/>\n                <ul className=\"sidebarFriendList\">\n                <h4 className=\"rightbarTitle\">推薦好友</h4>\n                    {user.map(u=>(\n                        <Friend user={u} key={u._id}/>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    )\n}\n","import './share.css'\nimport {PermMedia,Label,Room,EmojiEmotions,Cancel}  from '@material-ui/icons'\nimport { CircularProgress } from '@material-ui/core'\nimport { useState, useRef } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nexport default function Share() {\n    const history = useHistory();\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    const [file,setFile] = useState(null);\n    const [isLoading,setIsLoading] = useState(false);\n    const desc = useRef()\n    //upload img to server不是好的主意\n    //應該要分開 server\n    //console.log(file)\n    const submitHandler = async(e) =>{\n        setIsLoading(true)\n        e.preventDefault()\n        const newPost = {\n            userId: user._id,\n            desc: desc.current.value\n        }\n        const form = new FormData()\n        form.append(\"image\",file)\n        \n        console.log(form)\n        try{\n            if(file!==null){\n                console.log(\"yespic\")\n                //axios.post(\"/api/posts\",newPost)\n                //window.location.reload()\n                const uploadFile = async()=>{\n                    await fetch(\"https://api.imgur.com/3/image/\",{\n                        method:\"post\",\n                        headers:{\n                            Authorization:\"Client-ID 9235f4e0c03ab68\" \n                        }\n                        ,body:form\n                    }).then(data=>data.json().then(data=>{\n                        console.log(data.data.link)\n                        axios.post(\"/api/posts\",{\n                            userId: user._id,\n                            desc: desc.current.value,\n                            img: data.data.link\n                        })\n                    }))\n                }\n                await uploadFile()\n            }\n            else{\n                const directpost = async ()=>{\n                    await axios.post(\"/api/posts\",newPost)\n                }\n                await directpost()\n            }\n            //做完之後還要丟notification\n            const  sendNotice = async ()=>{\n                const notice = {\n                    senderId : user._id,\n                    object : \"post\",\n                    senderPic : user.profilePicture,\n                    senderUsername : user.username,\n                    receiverId: user.followers\n                }\n                await axios.post('/api/notice',notice)\n                setIsLoading(false)\n                window.location.reload()\n            }\n            await sendNotice()\n        }catch(err){\n\n        }\n    }\n    return (\n        <div className=\"share\">\n            <div className=\"shareWrapper\">\n                <div className=\"shareTop\">\n                <img src={ user.profilePicture? user.profilePicture : \"https://i.imgur.com/HeIi0wU.png\" } alt=\"\"  className=\"shareProfileImg\" />\n                    <input \n                        placeholder={\"你最近在想什麼? \"+ user.username}\n                        className=\"shareInput\"\n                        ref={desc}\n                    />\n                </div>\n                <hr className=\"shareHr\"/>\n                {\n                    file &&(\n                        <div className=\"shareImgContainer\">\n                            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\"/>\n                            <Cancel className=\"shareCancelImg\" onClick={()=>setFile(null)} />\n                        </div>\n                    )\n                }\n                <form className=\"shareBottom\" onSubmit={submitHandler}>\n                    <div className=\"shareOptions\">\n                        <label htmlFor=\"file\" className=\"shareOption\">\n                            <PermMedia htmlColor=\"tomato\" className=\"shareIcon\"/>\n                            <span className=\"shareOptionText\">Photo or Video</span>\n                            <input \n                                style= {{display:\"none\"}}\n                                type=\"file\" id=\"file\" \n                                accept=\".png,.jpeg,.jpg\" \n                                onChange={(e)=>setFile(e.target.files[0])}\n                            />\n                        </label>\n                        <div className=\"shareOption\">\n                            <Label htmlColor=\"blue\" className=\"shareIcon\"/>\n                            <span className=\"shareOptionText\">Tag</span>\n                        </div>\n                        <div className=\"shareOption\">\n                            <Room htmlColor=\"green\" className=\"shareIcon\"/>\n                            <span className=\"shareOptionText\">Location</span>\n                        </div>\n                        <div className=\"shareOption\">\n                            <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\"/>\n                            <span className=\"shareOptionText\">Feelings</span>\n                        </div>\n                    </div>\n                    <button className=\"shareButton\" type=\"submit\" disabled={isLoading}>{isLoading ? <CircularProgress color=\"white\" size=\"20px\"/> :\"分享\"}</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n","import \"./post.css\"\nimport { MoreVert,ThumbUpOutlined,ChatBubbleOutline,Share} from \"@material-ui/icons\"\nimport { useState,useEffect} from \"react\"\nimport axios from \"axios\"\nimport {format} from 'timeago.js'\nimport { Link } from \"react-router-dom\"\n//export default function Post({post}) {\nconst Post = (({post})=> {\n    const [user,setUser] = useState({});\n    const [like,setLike] = useState(post.likes.length)\n    const [isLiked,setIsLiked] = useState(false)\n    const [currentComment,setCurrentComment] = useState([])\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"))\n    const [hideComment,setHideComment] = useState('none');\n    //const {user:currentUser} = useContext(AuthContext)\n    //console.log(token)\n    //到時候透過jwt來傳遞\n\n    useEffect(()=>{   \n        setIsLiked(post.likes.includes(currentUser._id))\n    },[currentUser._id,post.likes])\n    \n    useEffect(()=>{\n        // const config = {\n        //     headers: { Authorization:\"Bearer \"+token}\n        // };\n        //這邊要用jwt token去呼叫\n        //先隨機給一個 因為還沒拉好認證系統\n        const fetchUser = async ()=>{\n            const res = await axios.get(\n                `/api/users?userId=${post.userId}`,\n                // config\n            )\n            //console.log(res.data)\n            setUser(res.data.data)\n        };\n        fetchUser();\n    },[post.userId]) //只render一次\n\n    const sendComment = async(event)=>{\n        if(event.key === 'Enter'){\n            //執行API送出\n            const datenow = new Date()\n            const commentData = {\n                userName : currentUser.username,\n                userPic : currentUser.profilePicture,\n                comment : event.target.value,\n                date: datenow            \n            }\n            const sendComment = await axios.post('api/posts/comment/'+post._id,commentData)\n            setCurrentComment(sendComment.data.data.comment)       \n            post.comment = currentComment\n            event.target.value = \"\"\n            setHideComment('')\n            //如果是自己留言不能發通知\n            if(currentUser._id !== post.userId){\n                const  sendNotice = async ()=>{\n                    const notice = {\n                        senderId : currentUser._id,\n                        object : \"comment\",\n                        senderPic : currentUser.profilePicture,\n                        senderUsername : currentUser.username,\n                        receiverId: post.userId,\n                        postId: post._id\n                    }\n                    await axios.post('/api/notice/post',notice)\n                }\n                sendNotice()\n            }\n        }\n    }\n    const likeHandler= ()=>{\n        try{\n            const likePost = async ()=>{\n                await axios.put('/api/posts/'+post._id+'/like',null)\n            };\n            likePost()\n        }catch(err){\n\n        }\n        //如果有喜歡過的話就扣一沒有喜歡過則是加一\n        setLike(isLiked ? like-1: like+1)\n        setIsLiked(!isLiked)\n        if(isLiked===false && currentUser._id!==post.userId){\n           //喜歡則發送notice\n            const  sendNotice = async ()=>{\n                const notice = {\n                    senderId : currentUser._id,\n                    object : \"like\",\n                    senderPic : currentUser.profilePicture,\n                    senderUsername : currentUser.username,\n                    receiverId: post.userId,\n                    postId: post._id\n                }\n                await axios.post('/api/notice/post',notice)\n            }\n            sendNotice()\n        }\n    }\n    const showComment = ()=>{\n        if (hideComment === \"\"){\n            setHideComment('none')\n        }\n\n        else{\n            setHideComment('')\n        }\n    }\n    return (\n        <div className=\"post\">\n             <div className=\"postWrapper\">\n                 <div className=\"postTop\">\n                     <div className=\"postTopLeft\">                       \n\t\t         <Link to={{pathname:'/profile',state:{username:user.username}}}>                       \n                         <img src={user.profilePicture ? user.profilePicture : \"https://i.imgur.com/HeIi0wU.png\"}\n                              alt=\"\" \n                              className=\"postProfileImg\"   \n                         />\n                         </Link>\n                         <span className=\"postUsername\">\n                             {user.username}\n                         </span>\n                         <span className=\"postDate\">{format(post.createdAt)}</span>\n                     </div>\n                     <div className=\"postTopRight\">\n                         <MoreVert/>\n                     </div>\n                 </div>\n                 <div className=\"postCenter\">\n                     <span className=\"postText\">{post?.desc}</span>\n                     <img  className=\"postImg\" src={post.img} alt=\"\"/>\n                 </div>\n                 <div className=\"postBottom\">\n                     <div className=\"postBottomLeft\">\n                         <img className=\"likeIcon\" src={\"https://i.imgur.com/5OV5nFE.png\"} onClick={likeHandler} alt=\"\"/>\n                         <img className=\"HeartIcon\" src={\"https://i.imgur.com/a5QV3sX.png\"} onClick={likeHandler} alt=\"\"/>\n                         <span className=\"postLikeCounter\">{like}個喜歡</span>\n                     </div>\n                     <div className=\"postBottomRight\" onClick={showComment}>\n                         <span className=\"postCommentText\">\n                             {currentComment.length\n                                ? currentComment.length\n                                : post.comment ? post.comment.length :\"0\"\n                             }\n                             個評論\n                        </span>\n                     </div>\n                 </div>\n                 <hr className=\"postHr\"/>\n                 <div className=\"postFunctionArea\">\n                     <div className=\"postFunction\" onClick={likeHandler}>\n                        {isLiked? <ThumbUpOutlined htmlColor=\"tomato\" /> : <ThumbUpOutlined />}\n                        <span className=\"Function\">讚</span>\n                    </div>\n                    <div className=\"postFunction\" onClick={showComment}>\n                        <ChatBubbleOutline/>\n                        <span className=\"Function\">留言</span>\n                    </div>\n                    <div className=\"postFunction\">\n                        <Share/>\n                        <span className=\"Function\">分享</span>\n                    </div>\n                 </div>\n                 <hr className=\"postHr\"/>\n                 {/* 超過三則留言就隱藏留言 */}\n                 \n                 <div className=\"postComments\" style={{display:hideComment}} >\n                        {currentComment.length\n                            ? currentComment.map((comment)=>{\n                                return(\n                                    <div className=\"postSingleComment\" key={comment._id}>\n                                        <div className=\"postSingleCommentMain\">\n                                            <img \n                                                src={comment.userPic? comment.userPic : \"https://i.imgur.com/HeIi0wU.png\"}\n                                                alt=\"\" \n                                                className=\"postSendCommentImg\"   \n                                            />\n                                            <div className=\"postCommentArea\">\n                                                <span className=\"postCommentUsername\"><b>{comment.userName}</b></span>\n                                                <span className=\"postCommentContent\">{comment.comment}</span>\n                                            </div>\n                                        </div>\n                                        <div className=\"postCommentTime\">\n                                            {format(comment.date)}\n                                        </div>\n                                    </div>\n                                )\n                            })\n                            : post.comment && post.comment.map((comment)=>{\n                                return(\n                                    <div className=\"postSingleComment\" key={comment._id}>\n                                        <div className=\"postSingleCommentMain\">\n                                            <img \n                                                src={comment.userPic? comment.userPic : \"https://i.imgur.com/HeIi0wU.png\"}\n                                                alt=\"\" \n                                                className=\"postSendCommentImg\"   \n                                            />\n                                            <div className=\"postCommentArea\">\n                                                <span className=\"postCommentUsername\"><b>{comment.userName}</b></span>\n                                                <span className=\"postCommentContent\">{comment.comment}</span>\n                                            </div>\n                                        </div>\n                                        <div className=\"postCommentTime\">\n                                            {format(comment.date)}\n                                        </div>\n                                    </div>\n                                )\n                            })         \n                        }            \n                 </div>\n\n                 <div className=\"postSendComment\">\n                        <img src={currentUser.profilePicture ? currentUser.profilePicture : \"https://i.imgur.com/HeIi0wU.png\"}\n                              alt=\"\" \n                              className=\"postSendCommentImg\"   \n                        />\n                        <div className=\"commentSendArea\">\n                            <input\n                            placeholder=\"留言......\"\n                            className=\"postSendInput\"\n                            onKeyPress={sendComment}\n                            />\n                        </div>\n                 </div>\n             </div>\n        </div>\n    )\n})\n\nexport default Post\n","import Share from '../share/Share'\nimport Post from '../post/Post'\nimport './feed.css'\nimport { useState } from 'react'\nimport axios from \"axios\"\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport { CircularProgress } from '@material-ui/core'\nimport { useEffect } from 'react'\nexport default function Feed({username}) {\n    //proxy設定\n    //暫時使用此方式導入jwt Token\n    //console.log(username)\n    const [hasMore,setHasMore] = useState(true)\n    const [posts,setPosts] = useState([]);\n    const [page,setPage]  = useState(0);\n\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    useEffect(()=>{\n        setPosts([])\n        \n        const fetchPosts = async ()=>{\n            const res = username \n             ? await axios.get(\"/api/posts/profile/\"+ username+\"/\"+0)\n             : await axios.get(\"/api/posts/timeline/all/\"+0)    \n            //console.log(res.data.data)\n            \n            if(res.data.data.length===0){\n                setHasMore(false)\n            }\n            setPosts(res.data.data);\n            setPage(1) \n        };\n        fetchPosts();\n    },[username])\n    const fetchData = async() =>{\n        //此處用來擋著跑的會比inital state快的問題\n        if(page===0){\n            console.log(\"test1\")\n        }else{\n            const fetchPosts = async ()=>{\n                setPage(page+1)\n                const res = username \n                ? await axios.get(\"/api/posts/profile/\"+ username+\"/\"+page )\n                : await axios.get(\"/api/posts/timeline/all/\"+page)    \n                //console.log(res.data.data)\n                \n                let data = \"\"\n                //username ? data = res.data.data : data = res.data.data\n                //console.log(res.data.datax)\n                if(res.data.data.length===0){\n                    setHasMore(false)\n                }\n                data = res.data.data\n                data = data.sort((p1,p2)=>{\n                    return new Date(p2.createdAt)-new Date(p1.createdAt);})\n                setPosts(prevPosts=>{\n                    return([...prevPosts,...data])\n                });\n\n                \n            };\n            \n            fetchPosts();\n        }\n    }\n\n\n    return (\n        <div className=\"feed\">\n            <div className=\"feedWrapper\" >\n                {(!username || username ===user.username) && <Share/>}\n                <InfiniteScroll\n                    className=\"feedScrollbar\"\n                    dataLength={posts.length} //This is important field to render the next data\n                    next={fetchData}\n                    hasMore={hasMore}\n                    loader={<div className=\"onLoading\"><CircularProgress  size=\"30px\"/></div>}\n                    endMessage={\n                      <p style={{ textAlign: 'center' }}>\n                        <b>{posts.length===0 ? \"此人還沒有任何Post喔!\" :\"暫時沒有其他文章了！\"}</b>\n                      </p>\n                    }                \n                >\n                {posts.map((p)=>(\n                    <Post key={p._id} post={p}/>\n                ))} \n                </InfiniteScroll>\n            </div>\n        </div>\n    )\n}\n","import axios from \"axios\"\nimport { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport { Link } from \"react-router-dom\";\nimport \"./online.css\"\n\nexport default function Online({user}) {\n    const [friend,setFriend] = useState(null);\n    useEffect(()=>{\n        console.log(user)\n        const getUser = async()=>{\n            const res = await axios.get(`/api/users/?userId=${user}`)\n            setFriend(res.data.data)\n        }\n        getUser();\n    },[])\n    return ( \n        <Link to={friend && {pathname:'/profile',state:{username:friend.username}}} style={{textDecoration:\"none\",color: \"inherit\"}} >\n        <li className=\"rightbarFriend\">\n                    <div className=\"rightbarProfileImgContainer\">\n                        <img src={friend && friend.profilePicture!==\"\"  ? friend.profilePicture :\"https://i.imgur.com/HeIi0wU.png\"}alt=\"\" className=\"rightbarProfileImg\" />\n                        <span className=\"rightbarOnline\"></span>\n                    </div>\n                    <span className=\"rightbarUsername\">{friend? friend.username :\"\" }</span>\n        </li>\n        </Link>\n    )\n}\n","\nimport './rightbar.css'\nimport Online from '../online/Online'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { Button,CircularProgress} from '@material-ui/core'\nimport { PersonAdd,PersonAddDisabled,RecordVoiceOver} from '@material-ui/icons'\nimport { useRef } from 'react'\nimport {io} from 'socket.io-client'\nimport { Link, useHistory } from \"react-router-dom\";\nexport default function Rightbar({user}) {\n    \n    let history = useHistory()\n    const [friends,setFriends] = useState([])\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"))  \n    //console.log(currentUser)\n    //const {dispatch,user:contextuser} = useContext(AuthContext)\n    //此處是使用localstorage去做確認 等於說如果做更新了 要直接去修改裡面的資料\n    const [followed,setFollowed] = useState(currentUser?.friends.includes(user?._id))\n    const [state,setState] = useState(\"\")\n    const [stateIcon,setStateIcon] = useState(\"\")\n    const [onlineUsers,setOnlineUsers] = useState([]);\n    const [isLoading,setIsLoading] = useState(false);\n    const socket = useRef();\n    useEffect(()=>{\n        if(user){\n            //狀態有三種 加入好友=> not friends && no pending \n            // 邀請中 pending && no friends \n            // 將pending改成雙向的？\n            const checkFriendAndPending = async()=>{\n                const resFriend = await axios.get(\"/api/users/friends/\"+user._id)\n                const resPending = await axios.get(\"/api/users/pending/\"+user._id)\n                const userFriends = resFriend.data.data\n                const isFriend = userFriends.find(friend=>{\n                   return friend._id === currentUser._id\n                })\n                if(!isFriend && resPending.data.data===null ){\n                    setState(\"加朋友\")\n                    setStateIcon(<PersonAdd/>)\n                }\n                if(isFriend){\n                    setState(\"取消朋友\")\n                    setStateIcon(<PersonAddDisabled/>)\n                }\n                if(!isFriend && resPending.data.data!==null){\n                    setState(\"邀請中\")\n                    setStateIcon(<RecordVoiceOver/>)\n                }\n            }\n            checkFriendAndPending()\n        }\n    },[user?._id])\n    useEffect(()=>{\n        socket.current = io(process.env.REACT_APP_SOCKET_PORT,{ transports: ['websocket', 'polling', 'flashsocket'] }) //此處要替換成測試andq上線port \n        socket.current.emit(\"addUser\",currentUser._id)\n        socket.current.on(\"getUsers\",users=>{\n            setOnlineUsers(\n                currentUser.friends.filter((f)=> users.some((u)=>u.userId===f))\n            );\n        })\n    },[])\n    useEffect(()=>{\n       setFollowed(currentUser.friends.includes(user?._id))\n    },[currentUser,user?._id])\n    useEffect(()=>{\n        //console.log(user?._id)\n        if(user){\n            const getFriends = async()=>{\n                try{\n                    if(user?._id){\n                        const friendList = await axios.get('/api/users/friends/'+ user?._id)\n                        setFriends(friendList.data.data)\n                    }\n                }catch(err){\n                    console.log(err)\n                }\n            };\n            getFriends();\n        }\n    },[user?._id])\n\n\n    const handleClick = async()=>{\n        try{\n            if(followed){\n                setIsLoading(true)\n                await axios.put(\"api/users/unfriend/\"+user._id,null);\n                currentUser.friends = currentUser.friends.filter(friend=>friend!==user._id) \n                console.log(currentUser)\n                localStorage.setItem(\"user\",JSON.stringify(currentUser))\n            }else{\n                setIsLoading(true)\n                //發出朋友邀請 要發出pending的審核\n                const sendPending = async()=>{\n                    await axios.post('/api/users/pending/'+user._id)\n                }\n                const  sendNotice = async ()=>{\n                    const notice = {\n                        senderId : currentUser._id,\n                        object : \"friendRequest\",\n                        senderPic : currentUser.profilePicture,\n                        senderUsername : currentUser.username,\n                        receiverId: user._id\n                    }\n                    await axios.post('/api/notice',notice)\n                    window.location.reload()\n                }\n                await sendPending()\n                await sendNotice()\n                // await axios.put(\"api/users/friend/\"+user._id,null)\n                // currentUser.friends = [...currentUser.friends,user._id]\n                // console.log(currentUser)\n                // localStorage.setItem(\"user\",JSON.stringify(currentUser))\n            }\n        }catch(err){\n            console.log(err)\n        }\n        setIsLoading(false)\n        setFollowed(!followed)\n    } \n\n    const HomeRightbar = ()=>{\n        return(\n            <>\n                <div className=\"birthdayContainer\">\n                    <img className=\"birthdayImg\" src=\"assets/gift3.png\" alt=\"\" />\n                    <span className=\"birthdayText\">\n                        <b>游旻昌</b> and 和<b>其他三個人</b>今天生日\n                    </span>\n                </div>\n                <img src=\"assets/add.jpg\" alt=\"\" className=\"rightbarAd\" />\n                <h4 className=\"rightbarTitle\">正在線上的好友</h4>\n                <ul className=\"rightbarFirendList\">\n                    {onlineUsers.map(u=>(\n                        <Online key={u} user={u}/>\n                    ))}\n                </ul>    \n            </>\n        )\n    }\n    const ProfileRightbar = () =>{\n        return(\n            <>\n                {/* 追蹤與否 */}\n                {user.username !== currentUser.username &&(\n                    <Button \n                        onClick={handleClick} \n                        startIcon={isLoading? \"\" : stateIcon}\n                        style={{marginBottom:\"10px\",marginTop:\"30px\",fontSize:\"16px\",backgroundColor:\"#007355\",color:\"white\",alignItems:\"center\",padding:\"8px 12px\"}}\n                        disabled={isLoading || state===\"邀請中\"}\n                    >\n                        {isLoading \n                                ?  <CircularProgress color=\"white\" size=\"20px\"/>\n                                : state\n                        }\n                    </Button>\n\n                )}\n                <h4 className=\"rightbarTitle\">用戶資訊</h4>\n                <div className=\"rightbarInfo\">\n                    <div className=\"rightbarInfoItem\">\n                        <span className=\"rightbarInfoKey\">城市:</span>\n                        <span className=\"rightbarInfoValue\">{user.city}</span>\n                    </div>\n                    <div className=\"rightbarInfoItem\">\n                        <span className=\"rightbarInfoKey\">國家:</span>\n                        <span className=\"rightbarInfoValue\">{user.from}</span>\n                    </div>\n                    <div className=\"rightbarInfoItem\">\n                        <span className=\"rightbarInfoKey\">感情狀態:</span>\n                        <span className=\"rightbarInfoValue\">{user.relationship===1? \"單身\" : user.relationship===2 ? \"甜蜜交往中\":\"-\"}</span>\n                    </div>\n                </div>\n                <h4 className=\"rightbarTitle\">他的朋友</h4>\n                <div className=\"rightbarFollowings\">\n                    {friends.map((friend)=>(\n                    //讓此處Refresh\n                    <div onClick={() => history.push({pathname:\"/profile\",state:{username: friend.username}})}  key={friend._id}>\n                    {/* <Link to={\"/profile/\"+friend.username} style={{textDecoration:\"none\"}} key={friend.username}  > */}\n                    <div className=\"rightbarFollowing\">\n                        <img \n                            src={\n                            friend.profilePicture \n                            ? friend.profilePicture \n                            : \"https://i.imgur.com/HeIi0wU.png\"} \n                            alt=\"\" \n                            className=\"rightbarFollowingImg\" \n                        />\n                        <span className=\"rightbarFollowingName\">\b{friend.username}</span>\n                    </div>\n                    {/* </Link> */}\n                    </div>\n                    ))}\n\n                </div>\n            </>\n        )\n    }\n    return (\n        <div className=\"rightbar\">\n            <div className=\"rightbarWrapper\">\n                {user ? <ProfileRightbar/> : <HomeRightbar/> }  \n            </div>\n        </div>\n    )\n}\n","import Topbar from \"../../components/topbar/Topbar\"\nimport Sidebar from \"../../components/sidebar/Sidebar\"\nimport Feed from \"../../components/feed/Feed\"\nimport Rightbar from \"../../components/rightbar/Rightbar\"\nimport './home.css'\nexport default function Home(){\n    return(\n        <>\n        <Topbar/>\n        <div className=\"homeContainer\">\n            <Sidebar/>\n            <Feed/>\n            <Rightbar/> \n        </div>\n        \n        </>\n    )\n}","\nimport axios from 'axios'\nimport { decodeToken } from 'react-jwt';\nimport jwt_decode from \"jwt-decode\";\nexport const LoginCall = async (userCredential,dispatch)=>{\n    dispatch({type:\"LOGIN_START\"});\n    try{\n        console.log(userCredential)\n        const res = await axios.post(\"auth/local/signin\",userCredential)\n        console.log(res.data.data)\n        // axios.defaults.headers.common['Authorization'] = 'Bearer '+res.data.data;\n        //此處應該要在用Token去fetch user data回來\n        axios.interceptors.request.use(function (config) {\n            config.headers.Authorization = \"Bearer \"+res.data.data  ;\n            return config;\n        });\n        const user = jwt_decode(res.data.data)\n        console.log(res.data.data)\n        console.log(user)\n        const user_data  = await axios.get(`/api/users?userId=${user._id}`)\n        console.log(res.data.data)\n        localStorage.setItem('token',res.data.data)\n        localStorage.setItem('user',JSON.stringify(user_data.data.data)) \n        dispatch({type:\"LOGIN_SUCCESS\",payload:user_data.data.data});\n\twindow.location.href='/'\n    }catch(e){\n        if (e) {\n            console.log(e) // some reason error message\n          }\n        dispatch({type:\"LOGIN_FAILURE\",payload:e});\n    }\n}\n","const AuthReducer  = (state,action) =>{\n    switch(action.type){\n        case \"LOGIN_START\":\n            return{\n                user:null,\n                isFetching:true,\n                error: false,\n            };\n        case \"LOGIN_SUCCESS\":\n            return{\n\n                user:action.payload,\n                isFetching:false,\n                error: false,\n            };\n        case \"LOGIN_FAILURE\":\n            return{\n                user:null,\n                isFetching:false,\n                error: action.payload,\n            };\n        case \"FOLLOW\":\n            return{\n                ...state,\n                user:{\n                    ...state.user,\n                    followings:[...state.user.followings,action.payload]\n                }\n            }\n        case \"UNFOLLOW\":\n            console.log(state.user.followings)\n            return{\n                ...state,\n                user:{\n                    ...state.user,\n                    followings:state.user.followings.filter(\n                        following=>following!==action.payload\n                    ),\n                },\n            }\n        default:\n            return state\n    }\n};\n\nexport default AuthReducer","import { createContext, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n    // user: {\n    //     \"profilePicture\": \"person/3.jpg\",\n    //     \"coverPicture\": \"post/2.jpg\",\n    //     \"followers\": [\n    //         \"60ebc66deb725c5783ef46a1\",\n    //         \"60ecde5f688a206c94cd60bb\"\n    //     ],\n    //     \"followings\": [\n    //     ],\n    //     \"isAdmin\": false,\n    //     \"_id\": \"60ebc2404a6ed456750998b1\",\n    //     \"followins\": [\n    //         \"60ebc2584a6ed456750998b4\"\n    //     ],\n    //     \"username\": \"john\",\n    //     \"email\": \"newtest04@gmail.com\",\n    //     \"createdAt\": \"2021-07-12T04:17:04.555Z\",\n    //     \"updatedAt\": \"2021-07-15T11:00:25.232Z\",\n    //     \"__v\": 0,\n    //     \"city\": \"台北\",\n    //     \"desc\": \"轉角遇上霸柴，請你小心\",\n    //     \"from\": \"台灣\",\n    //     \"relationship\": 2 \n    // },\n    user:null,\n    isFetching: false,\n    error: false\n\n};\n\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({children}) => {\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n\n    return (\n        <AuthContext.Provider \n            value={{ \n                user: state.user, \n                isFetching: state.isFetching, \n                error: state.error,\n                dispatch\n        }}\n        >\n            {children}\n        </AuthContext.Provider>\n    )\n}","import \"./login.css\"\nimport { useContext,useRef } from \"react\"\nimport { LoginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress} from \"@material-ui/core\"\nimport { Link,useHistory } from \"react-router-dom\";\nexport default function Login() {\n    const history = useHistory();\n    //也可以用useState但會影響效能\n    const email = useRef();\n    const password = useRef();\n    const {user,isFetching,error,dispatch} = useContext(AuthContext);\n    const handleClick =(e) => {\n        e.preventDefault();\n        LoginCall(\n            {username:email.current.value ,password: password.current.value},\n            dispatch\n        );\n\t//window.location.href=\"/\"\n\t//history.push('/register')\n    }\n    console.log(user)\n    console.log(error)\n    return (\n        <div className=\"login\">\n            <div className=\"loginWrapper\">\n                <div className=\"loginLeft\">\n                    <h3 className=\"loginLogo\">HardCo.Social</h3>\n                    <span className=\"loginDesc\">\n                        和朋友以及周圍的世界在HardCo.Social上建立連結吧.\n                    </span>\n                </div>\n                <div className=\"loginRight\">\n                    <div className=\"loginBox\">\n                    <form className=\"loginBox\" onSubmit={handleClick}>\n                        <input \n                            placeholder=\"電子郵件\" \n                             className=\"loginInput\"\n                             required \n                             ref={email}/>\n                        <input \n                            placeholder=\"密碼\" \n                            type=\"password\" \n                            className=\"loginInput\" \n                            required\n                            minLength = \"8\"\n                            ref={password}/>\n                        {/* 錯誤訊息回報 */}\n                        {error? <span>{error.response.data.message}</span> : null}\n                        <button className=\"loginButton\">\n                            {isFetching ? <CircularProgress color=\"white\" size=\"20px\"/>:\"登入\"}\n                        </button>          \n                    </form>\n                    <span className=\"loginForgot\">忘記密碼？</span>  \n                    <Link className=\"loginRegisterLink\" to=\"/register\">\n                    <button className=\"loginRegisterButton\">\n                        {isFetching ? <CircularProgress color=\"white\" size=\"20px\"/>:\"創建新帳號\"}\n                    </button>\n                    </Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","export const  Users = [\n    {\n        id:1,\n        profilePicture:\"person/1.jpg\",\n        username:\"陳慕真\",\n    },\n    {\n        id:2,\n        profilePicture:\"person/2.jpg\",\n        username:\"林士淵\",\n    },\n    {\n        id:3,\n        profilePicture:\"person/3.jpg\",\n        username:\"梁呈瑋\",\n    },\n    {\n        id:4,\n        profilePicture:\"person/4.jpg\",\n        username:\"劉承揚\",\n    },\n    {\n        id:5,\n        profilePicture:\"person/5.jpg\",\n        username:\"蕭心玫\",\n    },\n    {\n        id:7,\n        profilePicture:\"person/7.jpg\",\n        username:\"陳亮均\",\n    },\n    {\n        id:8,\n        profilePicture:\"person/8.jpg\",\n        username:\"楊均富\",\n    },\n    {\n        id:9,\n        profilePicture:\"person/9.jpg\",\n        username:\"李培安\",\n    },\n    {\n        id:10,\n        profilePicture:\"person/10.jpg\",\n        username:\"游旻昌\",\n    },\n];\n\nexport const Posts = [\n    {\n        id:1,\n        desc:\"愛上霸道總裁昌哥\",\n        photo:\"post/1.webp\",\n        date:\"5 mins ago\",\n        userId:1,\n        like:32,\n        comment:9,\n    },\n    {\n        id:2,\n        desc:\"第一次發文大家不要生氣\",\n        photo:\"post/2.jpg\",\n        date:\"15 mins ago\",\n        userId:2,\n        like:2,\n        comment:1,\n    },\n    {\n        id:3,\n        desc:\"昌哥好帥\",\n        photo:\"post/3.jpg\",\n        date:\"20 mins ago\",\n        userId:3,\n        like:100,\n        comment:15,\n    },\n    {\n        id:4,\n        desc:\"媽的圖文不符\",\n        photo:\"post/4.jpg\",\n        date:\"5 mins ago\",\n        userId:4,\n        like:10,\n        comment:5,\n    },\n    {\n        id:5,\n        desc:\"昌哥什麼時候要去玩\",\n        photo:\"post/5.jpg\",\n        date:\"5 mins ago\",\n        userId:5,\n        like:30,\n        comment:8,\n    },\n];\n\nexport const  Countries =  [  \n    {\"code\": \"HK\", \"en\": \"Hong Kong\", \"cn\": \"香港\"},  \n    {\"code\": \"TW\", \"en\": \"Taiwan\", \"cn\": \"台灣\"},  \n    {\"code\": \"MO\", \"en\": \"Macao\", \"cn\": \"澳門\"},  \n    {\"code\": \"US\", \"en\": \"United States of America (USA)\", \"cn\": \"美國\"},  \n    {\"code\": \"AR\", \"en\": \"Argentina\", \"cn\": \"阿根廷\"},  \n    {\"code\": \"AD\", \"en\": \"Andorra\", \"cn\": \"安道爾\"},  \n    {\"code\": \"AE\", \"en\": \"United Arab Emirates\", \"cn\": \"阿聯酋\"},  \n    {\"code\": \"AF\", \"en\": \"Afghanistan\", \"cn\": \"阿富汗\"},  \n    {\"code\": \"AG\", \"en\": \"Antigua & Barbuda\", \"cn\": \"安地卡及巴布達\"},  \n    {\"code\": \"AI\", \"en\": \"Anguilla\", \"cn\": \"安圭拉\"},  \n    {\"code\": \"AL\", \"en\": \"Albania\", \"cn\": \"阿爾巴尼亞\"},  \n    {\"code\": \"AM\", \"en\": \"Armenia\", \"cn\": \"亞美尼亞\"},  \n    {\"code\": \"AO\", \"en\": \"Angola\", \"cn\": \"安哥拉\"},  \n    {\"code\": \"AQ\", \"en\": \"Antarctica\", \"cn\": \"南極洲\"},  \n    {\"code\": \"AS\", \"en\": \"American Samoa\", \"cn\": \"美屬薩摩亞\"},  \n    {\"code\": \"AT\", \"en\": \"Austria\", \"cn\": \"奧地利\"},  \n    {\"code\": \"AU\", \"en\": \"Australia\", \"cn\": \"澳大利亞\"},  \n    {\"code\": \"AW\", \"en\": \"Aruba\", \"cn\": \"阿魯巴\"},  \n    {\"code\": \"AX\", \"en\": \"Aland Island\", \"cn\": \"奧蘭群島\"},  \n    {\"code\": \"AZ\", \"en\": \"Azerbaijan\", \"cn\": \"亞塞拜然\"},  \n    {\"code\": \"BA\", \"en\": \"Bosnia & Herzegovina\", \"cn\": \"波黑\"},  \n    {\"code\": \"BB\", \"en\": \"Barbados\", \"cn\": \"巴貝多\"},  \n    {\"code\": \"BD\", \"en\": \"Bangladesh\", \"cn\": \"孟加拉\"},  \n    {\"code\": \"BE\", \"en\": \"Belgium\", \"cn\": \"比利時\"},  \n    {\"code\": \"BF\", \"en\": \"Burkina\", \"cn\": \"布吉納法索\"},  \n    {\"code\": \"BG\", \"en\": \"Bulgaria\", \"cn\": \"保加利亞\"},  \n    {\"code\": \"BH\", \"en\": \"Bahrain\", \"cn\": \"巴林\"},  \n    {\"code\": \"BI\", \"en\": \"Burundi\", \"cn\": \"蒲隆地\"},  \n    {\"code\": \"BJ\", \"en\": \"Benin\", \"cn\": \"貝南\"},  \n    {\"code\": \"BL\", \"en\": \"Saint Barthélemy\", \"cn\": \"聖巴泰勒米島\"},  \n    {\"code\": \"BM\", \"en\": \"Bermuda\", \"cn\": \"百慕大\"},  \n    {\"code\": \"BN\", \"en\": \"Brunei\", \"cn\": \"汶萊\"},  \n    {\"code\": \"BO\", \"en\": \"Bolivia\", \"cn\": \"玻利維亞\"},  \n    {\"code\": \"BQ\", \"en\": \"Caribbean Netherlands\", \"cn\": \"荷蘭加勒比區\"},  \n    {\"code\": \"BR\", \"en\": \"Brazil\", \"cn\": \"巴西\"},  \n    {\"code\": \"BS\", \"en\": \"The Bahamas\", \"cn\": \"巴哈馬\"},  \n    {\"code\": \"BT\", \"en\": \"Bhutan\", \"cn\": \"不丹\"},  \n    {\"code\": \"BV\", \"en\": \"Bouvet Island\", \"cn\": \"布韋島\"},  \n    {\"code\": \"BW\", \"en\": \"Botswana\", \"cn\": \"波札那\"},  \n    {\"code\": \"BY\", \"en\": \"Belarus\", \"cn\": \"白俄羅斯\"},  \n    {\"code\": \"BZ\", \"en\": \"Belize\", \"cn\": \"貝里斯\"},  \n    {\"code\": \"CA\", \"en\": \"Canada\", \"cn\": \"加拿大\"},  \n    {\"code\": \"CC\", \"en\": \"Cocos (Keeling) Islands\", \"cn\": \"科科斯群島\"},  \n    {\"code\": \"CD\", \"en\": \"Democratic Republic of the Congo\", \"cn\": \"剛果（金）\"},  \n    {\"code\": \"CF\", \"en\": \"Central African Republic\", \"cn\": \"中非\"},  \n    {\"code\": \"CG\", \"en\": \"Republic of the Congo\", \"cn\": \"剛果（布）\"},  \n    {\"code\": \"CH\", \"en\": \"Switzerland\", \"cn\": \"瑞士\"},  \n    {\"code\": \"CI\", \"en\": \"Cote d'Ivoire\", \"cn\": \"象牙海岸\"},  \n    {\"code\": \"CK\", \"en\": \"Cook Islands\", \"cn\": \"庫克群島\"},  \n    {\"code\": \"CL\", \"en\": \"Chile\", \"cn\": \"智利\"},  \n    {\"code\": \"CM\", \"en\": \"Cameroon\", \"cn\": \"喀麥隆\"},  \n    {\"code\": \"CN\", \"en\": \"China\", \"cn\": \"中國\"},  \n    {\"code\": \"CO\", \"en\": \"Colombia\", \"cn\": \"哥倫比亞\"},  \n    {\"code\": \"CR\", \"en\": \"Costa Rica\", \"cn\": \"哥斯大黎加\"},  \n    {\"code\": \"CU\", \"en\": \"Cuba\", \"cn\": \"古巴\"},  \n    {\"code\": \"CV\", \"en\": \"Cape Verde\", \"cn\": \"維德角\"},  \n    {\"code\": \"CW\", \"en\": \"Curacao\", \"cn\": \"庫拉索\"},  \n    {\"code\": \"CX\", \"en\": \"Christmas Island\", \"cn\": \"聖誕島\"},  \n    {\"code\": \"CY\", \"en\": \"Cyprus\", \"cn\": \"塞普勒斯\"},  \n    {\"code\": \"CZ\", \"en\": \"Czech Republic\", \"cn\": \"捷克\"},  \n    {\"code\": \"DE\", \"en\": \"Germany\", \"cn\": \"德國\"},  \n    {\"code\": \"DJ\", \"en\": \"Djibouti\", \"cn\": \"吉布提\"},  \n    {\"code\": \"DK\", \"en\": \"Denmark\", \"cn\": \"丹麥\"},  \n    {\"code\": \"DM\", \"en\": \"Dominica\", \"cn\": \"多米尼克\"},  \n    {\"code\": \"DO\", \"en\": \"Dominican Republic\", \"cn\": \"多明尼加\"},  \n    {\"code\": \"DZ\", \"en\": \"Algeria\", \"cn\": \"阿爾及利亞\"},  \n    {\"code\": \"EC\", \"en\": \"Ecuador\", \"cn\": \"厄瓜多\"},  \n    {\"code\": \"EE\", \"en\": \"Estonia\", \"cn\": \"愛沙尼亞\"},  \n    {\"code\": \"EG\", \"en\": \"Egypt\", \"cn\": \"埃及\"},  \n    {\"code\": \"EH\", \"en\": \"Western Sahara\", \"cn\": \"西撒哈拉\"},  \n    {\"code\": \"ER\", \"en\": \"Eritrea\", \"cn\": \"厄利垂亞\"},  \n    {\"code\": \"ES\", \"en\": \"Spain\", \"cn\": \"西班牙\"},  \n    {\"code\": \"ET\", \"en\": \"Ethiopia\", \"cn\": \"衣索比亞\"},  \n    {\"code\": \"FI\", \"en\": \"Finland\", \"cn\": \"芬蘭\"},  \n    {\"code\": \"FJ\", \"en\": \"Fiji\", \"cn\": \"斐濟群島\"},\n    {\"code\": \"FK\", \"en\": \"Falkland Islands\", \"cn\": \"馬爾維納斯群島（福克蘭）\" },  \n    {\"code\": \"FM\", \"en\": \"Federated States of Micronesia\", \"cn\": \"密克羅尼西亞聯邦\"},  \n    {\"code\": \"FO\", \"en\": \"Faroe Islands\", \"cn\": \"法羅群島\"},  \n    {\"code\": \"FR\", \"en\": \"France\", \"cn\": \"法國 法國\"},  \n    {\"code\": \"GA\", \"en\": \"Gabon\", \"cn\": \"加彭\"},  \n    {\"code\": \"GB\", \"en\": \"Great Britain (United Kingdom; England)\", \"cn\": \"英國\"},  \n    {\"code\": \"GD\", \"en\": \"Grenada\", \"cn\": \"格瑞那達\"},  \n    {\"code\": \"GE\", \"en\": \"Georgia\", \"cn\": \"喬治亞\"},  \n    {\"code\": \"GF\", \"en\": \"French Guiana\", \"cn\": \"法屬蓋亞那\"},  \n    {\"code\": \"GG\", \"en\": \"Guernsey\", \"cn\": \"根西島\"},  \n    {\"code\": \"GH\", \"en\": \"Ghana\", \"cn\": \"迦納\"},  \n    {\"code\": \"GI\", \"en\": \"Gibraltar\", \"cn\": \"直布羅陀\"},  \n    {\"code\": \"GL\", \"en\": \"Greenland\", \"cn\": \"格陵蘭\"},  \n    {\"code\": \"GM\", \"en\": \"Gambia\", \"cn\": \"甘比亞\"},  \n    {\"code\": \"GN\", \"en\": \"Guinea\", \"cn\": \"幾內亞\"},  \n    {\"code\": \"GP\", \"en\": \"Guadeloupe\", \"cn\": \"瓜德羅普\"},  \n    {\"code\": \"GQ\", \"en\": \"Equatorial Guinea\", \"cn\": \"赤道幾內亞\"},  \n    {\"code\": \"GR\", \"en\": \"Greece\", \"cn\": \"希臘\"},  \n    {\"code\": \"GS\", \"en\": \"South Georgia and the South Sandwich Islands\", \"cn\": \"南喬治亞島和南桑威奇群島\"},  \n    {\"code\": \"GT\", \"en\": \"Guatemala\", \"cn\": \"瓜地馬拉\"},  \n    {\"code\": \"GU\", \"en\": \"Guam\", \"cn\": \"關島\"},  \n    {\"code\": \"GW\", \"en\": \"Guinea-Bissau\", \"cn\": \"幾內亞比索\"},  \n    {\"code\": \"GY\", \"en\": \"Guyana\", \"cn\": \"蓋亞那\"},  \n    {\"code\": \"HM\", \"en\": \"Heard Island and McDonald Islands\", \"cn\": \"赫德島和麥克唐納群島\"},  \n    {\"code\": \"HN\", \"en\": \"Honduras\", \"cn\": \"宏都拉斯\"},  \n    {\"code\": \"HR\", \"en\": \"Croatia\", \"cn\": \"克羅埃西亞\"},  \n    {\"code\": \"HT\", \"en\": \"Haiti\", \"cn\": \"海地\"},  \n    {\"code\": \"HU\", \"en\": \"Hungary\", \"cn\": \"匈牙利\"},  \n    {\"code\": \"ID\", \"en\": \"Indonesia\", \"cn\": \"印尼\"},  \n    {\"code\": \"IE\", \"en\": \"Ireland\", \"cn\": \"愛爾蘭\"},  \n    {\"code\": \"IL\", \"en\": \"Israel\", \"cn\": \"以色列\"},  \n    {\"code\": \"IM\", \"en\": \"Isle of Man\", \"cn\": \"馬恩島\"},  \n    {\"code\": \"IN\", \"en\": \"India\", \"cn\": \"印度\"},  \n    {\"code\": \"IO\", \"en\": \"British Indian Ocean Territory\", \"cn\": \"英屬印度洋領地\"},  \n    {\"code\": \"IQ\", \"en\": \"Iraq\", \"cn\": \"伊拉克\"},  \n    {\"code\": \"IR\", \"en\": \"Iran\", \"cn\": \"伊朗\"},  \n    {\"code\": \"IS\", \"en\": \"Iceland\", \"cn\": \"冰島\"},  \n    {\"code\": \"IT\", \"en\": \"Italy\", \"cn\": \"義大利\"},  \n    {\"code\": \"JE\", \"en\": \"Jersey\", \"cn\": \"澤西島\"},  \n    {\"code\": \"JM\", \"en\": \"Jamaica\", \"cn\": \"牙買加\"},  \n    {\"code\": \"JO\", \"en\": \"Jordan\", \"cn\": \"約旦\"},  \n    {\"code\": \"JP\", \"en\": \"Japan\", \"cn\": \"日本\"},  \n    {\"code\": \"KE\", \"en\": \"Kenya\", \"cn\": \"肯亞\"},  \n    {\"code\": \"KG\", \"en\": \"Kyrgyzstan\", \"cn\": \"吉爾吉斯斯坦\"},  \n    {\"code\": \"KH\", \"en\": \"Cambodia\", \"cn\": \"柬埔寨\"},  \n    {\"code\": \"KI\", \"en\": \"Kiribati\", \"cn\": \"吉里巴斯\"},  \n    {\"code\": \"KM\", \"en\": \"The Comoros\", \"cn\": \"葛摩\"},  \n    {\"code\": \"KN\", \"en\": \"St. Kitts & Nevis\", \"cn\": \"聖克里斯多福及尼維斯\"},  \n    {\"code\": \"KP\", \"en\": \"North Korea\", \"cn\": \"朝鮮\"},  \n    {\"code\": \"KR\", \"en\": \"South Korea\", \"cn\": \"韓國\"},  \n    {\"code\": \"KW\", \"en\": \"Kuwait\", \"cn\": \"科威特\"},  \n    {\"code\": \"KY\", \"en\": \"Cayman Islands\", \"cn\": \"開曼群島\"},  \n    {\"code\": \"KZ\", \"en\": \"Kazakhstan\", \"cn\": \"哈薩克\"},  \n    {\"code\": \"LA\", \"en\": \"Laos\", \"cn\": \"寮國\"},  \n    {\"code\": \"LB\", \"en\": \"Lebanon\", \"cn\": \"黎巴嫩\"},  \n    {\"code\": \"LC\", \"en\": \"St. Lucia\", \"cn\": \"聖露西亞\"},  \n    {\"code\": \"LI\", \"en\": \"Liechtenstein\", \"cn\": \"列支敦斯登\"},  \n    {\"code\": \"LK\", \"en\": \"Sri Lanka\", \"cn\": \"斯里蘭卡\"},  \n    {\"code\": \"LR\", \"en\": \"Liberia\", \"cn\": \"賴比瑞亞\"},  \n    {\"code\": \"LS\", \"en\": \"Lesotho\", \"cn\": \"賴索托\"},  \n    {\"code\": \"LT\", \"en\": \"Lithuania\", \"cn\": \"立陶宛\"},  \n    {\"code\": \"LU\", \"en\": \"Luxembourg\", \"cn\": \"盧森堡\"},  \n    {\"code\": \"LV\", \"en\": \"Latvia\", \"cn\": \"拉脫維亞\"},  \n    {\"code\": \"LY\", \"en\": \"Libya\", \"cn\": \"利比亞\"},  \n    {\"code\": \"MA\", \"en\": \"Morocco\", \"cn\": \"摩洛哥\"},  \n    {\"code\": \"MC\", \"en\": \"Monaco\", \"cn\": \"摩納哥\"},  \n    {\"code\": \"MD\", \"en\": \"Moldova\", \"cn\": \"摩爾多瓦\"},  \n    {\"code\": \"ME\", \"en\": \"Montenegro\", \"cn\": \"黑山\"},  \n    {\"code\": \"MF\", \"en\": \"Saint Martin (France)\", \"cn\": \"法屬聖馬丁\"},  \n    {\"code\": \"MG\", \"en\": \"Madagascar\", \"cn\": \"馬達加斯加\"},  \n    {\"code\": \"MH\", \"en\": \"Marshall islands\", \"cn\": \"馬紹爾群島\"},  \n    {\"code\": \"MK\", \"en\": \"Republic of Macedonia (FYROM)\", \"cn\": \"馬其頓\"},  \n    {\"code\": \"ML\", \"en\": \"Mali\", \"cn\": \"馬裡\"},  \n    {\"code\": \"MM\", \"en\": \"Myanmar (Burma)\", \"cn\": \"緬甸\"},  \n    {\"code\": \"MN\", \"en\": \"Mongolia\", \"cn\": \"蒙古國\"},  \n    {\"code\": \"MP\", \"en\": \"Northern Mariana Islands\", \"cn\": \"北馬裡亞納群島\"},  \n    {\"code\": \"MQ\", \"en\": \"Martinique\", \"cn\": \"馬提尼克\"},  \n    {\"code\": \"MR\", \"en\": \"Mauritania\", \"cn\": \"茅利塔尼亞\"},  \n    {\"code\": \"MS\", \"en\": \"Montserrat\", \"cn\": \"蒙塞拉特島\"},  \n    {\"code\": \"MT\", \"en\": \"Malta\", \"cn\": \"馬耳他\"},  \n    {\"code\": \"MU\", \"en\": \"Mauritius\", \"cn\": \"模里西斯\"},  \n    {\"code\": \"MV\", \"en\": \"Maldives\", \"cn\": \"馬爾地夫\"},  \n    {\"code\": \"MW\", \"en\": \"Malawi\", \"cn\": \"馬拉維\"},  \n    {\"code\": \"MX\", \"en\": \"Mexico\", \"cn\": \"墨西哥\"},  \n    {\"code\": \"MY\", \"en\": \"Malaysia\", \"cn\": \"馬來西亞\"},  \n    {\"code\": \"MZ\", \"en\": \"Mozambique\", \"cn\": \"莫三比克\"},  \n    {\"code\": \"NA\", \"en\": \"Namibia\", \"cn\": \"納米比亞\"},  \n    {\"code\": \"NC\", \"en\": \"New Caledonia\", \"cn\": \"新喀里多尼亞\"},  \n    {\"code\": \"NE\", \"en\": \"Niger\", \"cn\": \"尼日\"},  \n    {\"code\": \"NF\", \"en\": \"Norfolk Island\", \"cn\": \"諾福克島\"},  \n    {\"code\": \"NG\", \"en\": \"Nigeria\", \"cn\": \"奈及利亞\"},  \n    {\"code\": \"NI\", \"en\": \"Nicaragua\", \"cn\": \"尼加拉瓜\"},  \n    {\"code\": \"NL\", \"en\": \"Netherlands\", \"cn\": \"荷蘭\"},  \n    {\"code\": \"NO\", \"en\": \"Norway\", \"cn\": \"挪威\"},  \n    {\"code\": \"NP\", \"en\": \"Nepal\", \"cn\": \"尼泊爾\"},  \n    {\"code\": \"NR\", \"en\": \"Nauru\", \"cn\": \"諾魯\"},  \n    {\"code\": \"NU\", \"en\": \"Niue\", \"cn\": \"紐埃\"},  \n    {\"code\": \"NZ\", \"en\": \"New Zealand\", \"cn\": \"紐西蘭\"},  \n    {\"code\": \"OM\", \"en\": \"Oman\", \"cn\": \"阿曼\"},  \n    {\"code\": \"PA\", \"en\": \"Panama\", \"cn\": \"巴拿馬\"},  \n    {\"code\": \"PE\", \"en\": \"Peru\", \"cn\": \"祕魯\"},  \n    {\"code\": \"PF\", \"en\": \"French polynesia\", \"cn\": \"法屬波利尼西亞\"},  \n    {\"code\": \"PG\", \"en\": \"Papua New Guinea\", \"cn\": \"巴布亞紐幾內亞\"},  \n    {\"code\": \"PH\", \"en\": \"The Philippines\", \"cn\": \"菲律賓\"},  \n    {\"code\": \"PK\", \"en\": \"Pakistan\", \"cn\": \"巴基斯坦\"},  \n    {\"code\": \"PL\", \"en\": \"Poland\", \"cn\": \"波蘭\"},  \n    {\"code\": \"PM\", \"en\": \"Saint-Pierre and Miquelon\", \"cn\": \"聖皮埃爾和密克隆\"},  \n    {\"code\": \"PN\", \"en\": \"Pitcairn Islands\", \"cn\": \"皮特凱恩群島\"},  \n    {\"code\": \"PR\", \"en\": \"Puerto Rico\", \"cn\": \"波多黎各\"},  \n    {\"code\": \"PS\", \"en\": \"Palestinian territories\", \"cn\": \"巴勒斯坦\"},  \n    {\"code\": \"PT\", \"en\": \"Portugal\", \"cn\": \"葡萄牙\"},  \n    {\"code\": \"PW\", \"en\": \"Palau\", \"cn\": \"帛琉\"},  \n    {\"code\": \"PY\", \"en\": \"Paraguay\", \"cn\": \"巴拉圭\"},  \n    {\"code\": \"QA\", \"en\": \"Qatar\", \"cn\": \"卡達\"},  \n    {\"code\": \"RE\", \"en\": \"Réunion\", \"cn\": \"留尼汪\"},  \n    {\"code\": \"RO\", \"en\": \"Romania\", \"cn\": \"羅馬尼亞\"},  \n    {\"code\": \"RS\", \"en\": \"Serbia\", \"cn\": \"塞爾維亞\"},  \n    {\"code\": \"RU\", \"en\": \"Russian Federation\", \"cn\": \"俄羅斯\"},  \n    {\"code\": \"RW\", \"en\": \"Rwanda\", \"cn\": \"盧安達\"},  \n    {\"code\": \"SA\", \"en\": \"Saudi Arabia\", \"cn\": \"沙烏地阿拉伯\"},  \n    {\"code\": \"SB\", \"en\": \"Solomon Islands\", \"cn\": \"索羅門群島\"},  \n    {\"code\": \"SC\", \"en\": \"Seychelles\", \"cn\": \"塞席爾\"},  \n    {\"code\": \"SD\", \"en\": \"Sudan\", \"cn\": \"蘇丹\"},  \n    {\"code\": \"SE\", \"en\": \"Sweden\", \"cn\": \"瑞典\"},  \n    {\"code\": \"SG\", \"en\": \"Singapore\", \"cn\": \"新加坡\"},  \n    {\"code\": \"SH\", \"en\": \"St. Helena & Dependencies\", \"cn\": \"聖赫勒拿\"},  \n    {\"code\": \"SI\", \"en\": \"Slovenia\", \"cn\": \"斯洛維尼亞\"},  \n    {\"code\": \"SJ\", \"en\": \"Svalbard and Jan Mayen\", \"cn\": \"斯瓦爾巴群島和揚馬延島\"},  \n    {\"code\": \"SK\", \"en\": \"Slovakia\", \"cn\": \"斯洛伐克\"},  \n    {\"code\": \"SL\", \"en\": \"Sierra Leone\", \"cn\": \"獅子山\"},  \n    {\"code\": \"SM\", \"en\": \"San Marino\", \"cn\": \"聖馬利諾\"},  \n    {\"code\": \"SN\", \"en\": \"Senegal\", \"cn\": \"塞內加爾\"},  \n    {\"code\": \"SO\", \"en\": \"Somalia\", \"cn\": \"索馬利亞\"},  \n    {\"code\": \"SR\", \"en\": \"Suriname\", \"cn\": \"蘇利南\"},  \n    {\"code\": \"SS\", \"en\": \"South Sudan\", \"cn\": \"南蘇丹\"},  \n    {\"code\": \"ST\", \"en\": \"Sao Tome & Principe\", \"cn\": \"聖多美和普林西比\"},  \n    {\"code\": \"SV\", \"en\": \"El Salvador\", \"cn\": \"薩爾瓦多\"},  \n    {\"code\": \"SX\", \"en\": \"Sint Maarten\", \"cn\": \"荷屬聖馬丁\"},  \n    {\"code\": \"SY\", \"en\": \"Syria\", \"cn\": \"敘利亞\"},  \n    {\"code\": \"SZ\", \"en\": \"Swaziland\", \"cn\": \"史瓦濟蘭\"},  \n    {\"code\": \"TC\", \"en\": \"Turks & Caicos Islands\", \"cn\": \"特克斯和凱科斯群島\"},  \n    {\"code\": \"TD\", \"en\": \"Chad\", \"cn\": \"查德\"},  \n    {\"code\": \"TF\", \"en\": \"French Southern Territories\", \"cn\": \"法屬南部領地\"},  \n    {\"code\": \"TG\", \"en\": \"Togo\", \"cn\": \"多哥\"},  \n    {\"code\": \"TH\", \"en\": \"Thailand\", \"cn\": \"泰國\"},  \n    {\"code\": \"TJ\", \"en\": \"Tajikistan\", \"cn\": \"塔吉克\"},  \n    {\"code\": \"TK\", \"en\": \"Tokelau\", \"cn\": \"托克勞\"},  \n    {\"code\": \"TL\", \"en\": \"Timor-Leste (East Timor)\", \"cn\": \"東帝汶\"},  \n    {\"code\": \"TM\", \"en\": \"Turkmenistan\", \"cn\": \"土庫曼\"},  \n    {\"code\": \"TN\", \"en\": \"Tunisia\", \"cn\": \"突尼西亞\"},  \n    {\"code\": \"TO\", \"en\": \"Tonga\", \"cn\": \"湯加\"},  \n    {\"code\": \"TR\", \"en\": \"Turkey\", \"cn\": \"土耳其\"},  \n    {\"code\": \"TT\", \"en\": \"Trinidad & Tobago\", \"cn\": \"千里達及托巴哥\"},  \n    {\"code\": \"TV\", \"en\": \"Tuvalu\", \"cn\": \"吐瓦魯\"},  \n    {\"code\": \"TZ\", \"en\": \"Tanzania\", \"cn\": \"坦尚尼亞\"},  \n    {\"code\": \"UA\", \"en\": \"Ukraine\", \"cn\": \"烏克蘭\"},  \n    {\"code\": \"UG\", \"en\": \"Uganda\", \"cn\": \"烏干達\"},  \n    {\"code\": \"UM\", \"en\": \"United States Minor Outlying Islands\", \"cn\": \"美國本土外小島嶼\"},  \n    {\"code\": \"UY\", \"en\": \"Uruguay\", \"cn\": \"烏拉圭\"},  \n    {\"code\": \"UZ\", \"en\": \"Uzbekistan\", \"cn\": \"烏茲別克\"},  \n    {\"code\": \"VA\", \"en\": \"Vatican City (The Holy See)\", \"cn\": \"梵蒂岡\"},  \n    {\"code\": \"VC\", \"en\": \"St. Vincent & the Grenadines\", \"cn\": \"聖文森及格瑞那丁\"},  \n    {\"code\": \"VE\", \"en\": \"Venezuela\", \"cn\": \"委內瑞拉\"},  \n    {\"code\": \"VG\", \"en\": \"British Virgin Islands\", \"cn\": \"英屬維爾京群島\"},  \n    {\"code\": \"VI\", \"en\": \"United States Virgin Islands\", \"cn\": \"美屬維爾京群島\"},  \n    {\"code\": \"VN\", \"en\": \"Vietnam\", \"cn\": \"越南\"},  \n    {\"code\": \"VU\", \"en\": \"Vanuatu\", \"cn\": \"萬那杜\"},  \n    {\"code\": \"WF\", \"en\": \"Wallis and Futuna\", \"cn\": \"瓦利斯和富圖納\"},  \n    {\"code\": \"WS\", \"en\": \"Samoa\", \"cn\": \"薩摩亞\"},  \n    {\"code\": \"YE\", \"en\": \"Yemen\", \"cn\": \"葉門\"},  \n    {\"code\": \"YT\", \"en\": \"Mayotte\", \"cn\": \"馬約特\"},  \n    {\"code\": \"ZA\", \"en\": \"South Africa\", \"cn\": \"南非\"},  \n    {\"code\": \"ZM\", \"en\": \"Zambia\", \"cn\": \"尚比亞\"},  \n    {\"code\": \"ZW\", \"en\": \"Zimbabwe\", \"cn\": \"辛巴威\"}  \n]\n\nexport const City = [\n    {\"name\":\"基隆市\"},\n    {\"name\":\"台北市\"},\n    {\"name\":\"新北市\"},\n    {\"name\":\"桃園縣\"},\n    {\"name\":\"新竹市\"},\n    {\"name\":\"新竹縣\"},\n    {\"name\":\"苗栗縣\"},\n    {\"name\":\"台中市\"},\n    {\"name\":\"彰化縣\"},\n    {\"name\":\"南投縣\"},\n    {\"name\":\"雲林縣\"},\n    {\"name\":\"嘉義市\"},\n    {\"name\":\"台南市\"},\n    {\"name\":\"高雄市\"},\n    {\"name\":\"屏東縣\"},\n    {\"name\":\"台東縣\"},\n    {\"name\":\"花蓮縣\"},\n    {\"name\":\"宜蘭縣\"},\n    {\"name\":\"澎湖縣\"},\n    {\"name\":\"金門縣\"},\n    {\"name\":\"連江縣\"}\n]\n","import React from 'react'\nimport './popup.css'\nexport default function Popup(props) {\n    return(props.trigger)? (\n        <div className=\"popup\" id=\"popup2\">\n                {props.children}\n        </div>\n    ):\"\";\n}\n","import './profile.css'\nimport Topbar from \"../../components/topbar/Topbar\"\nimport Sidebar from \"../../components/sidebar/Sidebar\"\nimport Feed from \"../../components/feed/Feed\"\nimport Rightbar from \"../../components/rightbar/Rightbar\"\nimport { useState,useEffect } from 'react'\nimport axios from 'axios'\nimport { useParams} from 'react-router'\nimport { TextField, Button,IconButton,CircularProgress } from '@material-ui/core'\nimport { Edit,LocationCity,Language,FavoriteBorder,HighlightOff,PhotoLibrary,Message} from '@material-ui/icons'\nimport { Countries ,City} from '../../dummyData'\nimport Popup from '../../components/popup/Popup'\nimport { useRef } from 'react'\nimport { useHistory,useLocation } from 'react-router-dom'\nexport default function Profile() {\n    let location = useLocation();\n    const history = useHistory();\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"))\n    const [user,setUser] = useState({});\n    const [popup,setPopup] = useState(false);\n    //const username = useParams().username;\n    \n    //修改個人檔案\n    const [editProfile,setEditProfile] = useState(null);\n    const [editCover,setEditCover] = useState(null);\n    const [isLoading,setIsLoading] = useState(false);\n    const country = useRef();\n    const city = useRef();\n    const desc = useRef();\n    const relationship = useRef();\n\n    const handleEditFile = async()=>{\n        setIsLoading(true)\n        //先確認圖片有沒有做更改 此處要上線才能測試\n        let coverUrl = null\n        let profileUrl = null\n        if(editProfile===null || editProfile===undefined){\n            console.log(\"沒換照片\")\n        }else{\n            //呼叫 imgur api 回傳網址\n            const form = new FormData()\n            form.append(\"image\",editProfile)\n            const url = await fetch(\"https://api.imgur.com/3/image/\",{\n                method:\"post\",\n                headers:{\n                    Authorization:\"Client-ID 9235f4e0c03ab68\" \n                }\n                ,body:form\n                }).then(data=>data.json())\n            profileUrl = url\n        }\n        if(editCover===null || editCover===undefined){\n            console.log(\"沒換封面\")\n        }else{\n            const form = new FormData()\n            form.append(\"image\",editCover)\n            const url = await fetch(\"https://api.imgur.com/3/image/\",{\n                method:\"post\",\n                headers:{\n                    Authorization:\"Client-ID 9235f4e0c03ab68\" \n                }\n                ,body:form\n                }).then(data=>data.json())\n            coverUrl = url\n        }\n        //更新本地資訊\n        console.log(coverUrl,profileUrl)\n        if(coverUrl!==null){\n            currentUser.coverPicture = coverUrl.data.link\n        }\n        if(profileUrl!==null){\n            currentUser.profilePicture = profileUrl.data.link\n        } \n        currentUser.from = country.current.value\n        currentUser.city = city.current.value\n        currentUser.relationship = relationship.current.value\n        currentUser.desc = desc.current.value\n        console.log(currentUser)\n        localStorage.setItem(\"user\",JSON.stringify(currentUser))\n        //更新遠端\n        const updateResult = await axios.put('/api/users/',currentUser)\n        console.log(updateResult)\n        setPopup(false)\n        setIsLoading(false)\n        window.location.reload()\n    }\n\n\n    useEffect(()=>{\n        //這邊要用jwt token去呼叫\n        //先隨機給一個 因為還沒拉好認證系統\n         if (location.state.username){\n            console.log(location.state.username)\n         }else{\n            console.log(\"wrong\")\n         }\n        const fetchUser = async ()=>{\n            const res = await axios.get(\n                `/api/users?username=${location.state.username}`,\n            );\n            //console.log(res.data.data)\n            setUser(res.data.data)\n        };\n        fetchUser();\n    },[location.state.username]) //只render一次\n\n    const openChat = ()=>{\n        const setChat = async()=>{\n            try{\n                let res = await axios.get(`/api/conversations/find/${currentUser._id}/${user._id}`);\n                //不存在聊天室 建立一個\n                if (res.data.data==null){\n                    const data  = {\n                        senderId:user._id,\n                        receiverId:currentUser._id\n                    }\n                    res = await axios.post(\"/api/conversations/\",data)\n                }\n                //建立好新的聊天室\n                //跳轉並且傳送預設的聊天室\n                history.push({\n                    pathname: '/messenger',\n                    state: { chat: res.data.data }\n                })\n            }catch(err){\n                console.log(err)\n            }\n        }\n        setChat()\n    }\n    return (\n        <>\n        <Topbar/>\n        <div className=\"profile\">\n            <Sidebar/>\n            <div className=\"profileRight\">\n                <div className=\"profileRightTop\">\n                    <div className=\"profileCover\">\n                        <img src={ user.coverPicture ? user.coverPicture : \"https://i.imgur.com/kM5r80s.jpg\"}\n                             alt=\"\" \n                             className=\"profileCoverImg\" \n                        />\n                        <img src={ user.profilePicture? user.profilePicture :\"https://i.imgur.com/HeIi0wU.png\"}\n                             alt=\"\" \n                             className=\"profileUserImg\" \n                        />\n                    </div>\n                    <div className=\"profileInfo\">\n                        <h4 className=\"profileInfoName\">{user.username}</h4>\n                        <span className=\"profileInfoDesc\">{user.desc}</span>\n                        <div className=\"profileFunction\">\n                        { user._id!==currentUser._id && <Button startIcon={<Message/>} onClick={openChat} >傳送訊息</Button> }\n                        {currentUser.username === user.username &&(\n                            <>\n                            <Button startIcon={<Edit/>} onClick={()=>setPopup(true)}>編輯個人檔案</Button>\n                            <Popup trigger={popup}>\n                                <div className=\"editProfile\">\n                                    <div className=\"editTitleArea\">\n                                        <h1 className=\"editTitle\">編輯個人檔案</h1>\n                                        <IconButton aria-label=\"delete\" onClick={()=>setPopup(false)}>\n                                            <HighlightOff/>\n                                        </IconButton>\n                                    </div>\n                                    <hr/>\n                                    <div className=\"editProfileImg\">\n                                        <h2 className =\"editItemTitle\">大頭貼</h2>\n                                            <div className=\"editProfileImgArea\">\n                                                <img \n                                                    src={ editProfile ? URL.createObjectURL(editProfile) : user.profilePicture } \n                                                    alt=\"\"\n                                                    className=\"editProfileImgDisplay\" \n                                                    \n                                                />\n                                                <label htmlFor=\"file1\" className=\"addProfilePic\">\n                                                    <PhotoLibrary htmlColor=\"tomato\" className=\"shareIcon\"/>\n                                                    <span>新增大頭貼</span>\n                                                    <input \n                                                        style= {{display:\"none\"}}\n                                                        type=\"file\" id=\"file1\" \n                                                        accept=\".png,.jpeg,.jpg\" \n                                                        onChange={(e)=>setEditProfile(e.target.files[0])}\n                                                    />\n                                                </label>\n                                            </div>\n                                    </div>\n                                    <div className=\"editCoverImg\">\n                                        <h2 className =\"editItemTitle\">封面圖片</h2>\n                                        <div className=\"editCoverImgArea\">\n                                            <img \n                                                    src={ editCover ? URL.createObjectURL(editCover) : user.coverPicture } \n                                                    alt=\"\"\n                                                    className=\"editCoverImgDisplay\" \n                                            />\n                                            <label htmlFor=\"file2\" className=\"addCoverPic\">\n                                                    <PhotoLibrary className=\"shareIcon\"/>\n                                                    <span>新增封面照片</span>\n                                                    <input \n                                                        style= {{display:\"none\"}}\n                                                        type=\"file\" id=\"file2\" \n                                                        accept=\".png,.jpeg,.jpg\" \n                                                        onChange={(e)=>setEditCover(e.target.files[0])}\n                                                    />\n                                            </label>\n                                        </div>\n                                    </div>\n                                    <div className=\"editDesc\">\n                                        <h2 className =\"editItemTitle\">自我介紹</h2>\n                                        <TextField\n                                            style={{width:\"100%\"}}\n                                            defaultValue={user.desc}\n                                            inputRef={desc}\n                                        />               \n                                    </div>\n                                    <div className=\"editInfo\">\n                                        <h2 className =\"editItemTitle\">用戶資訊</h2>\n                                        <div className=\"editInfoArea\">\n                                            <LocationCity/>\n                                            <span className=\"editInfoTitle\">城市:</span>\n                                                <select className=\"editInfoOption\" ref={city} defaultValue={user.city}>\n                                                    {City.map(city=>{\n                                                        \n                                                        return(    \n                                                            <option value={city.name} key={city.name}>{city.name}</option>\n                                                        )\n                                                    })}\n                                                </select>\n                                            <Language/>\n                                            <span className=\"editInfoTitle\">國家:</span>\n                                                <select className=\"editInfoOption\" ref={country}  defaultValue={user.from}>\n                                                    {Countries.map(country=>{\n                                                        return(    \n                                                                    <option value={country.cn} key={country.cn}>{country.cn}</option>\n                                                                )\n                                                    })}\n                                                </select>\n                                            <FavoriteBorder/>\n                                            <span className=\"editInfoTitle\">感情狀態:</span>\n                                                <select className=\"editInfoOption\" ref={relationship} defaultValue={2}>\n                                                    <option value={2} >甜蜜交往中</option>\n                                                    <option value={1} >單身</option>\n                                                </select>\n                                        </div>\n                                        <div className=\"editSend\">\n                                            <Button disabled={isLoading} \n                                                style={{backgroundColor:\"#42b72a\"}}\n                                                onClick={handleEditFile}\n                                            >\n                                                {isLoading ? <CircularProgress color=\"white\" size=\"20px\"/> :\"更改\"}\n                                            </Button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </Popup>\n                            </>\n                        )}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"profileRightBottom\">\n                    <Feed username={location.state.username}/>\n                    <Rightbar user={user}/> \n                </div>\n            </div>     \n        </div>\n        \n        </>\n    )\n}\n","import { CircularProgress } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./register.css\"\n\nexport default function Register() {\n    const username = useRef();\n    const email = useRef();\n    const password = useRef();\n    const passwordAgain = useRef();\n    const [error,setError] =useState(null);\n    const [isLoading,setIsLoading] = useState(false);\n    const history = useHistory()\n\n    const checkPassword = ()=>{\n        console.log(password.current.value)\n        console.log(passwordAgain.current.value)\n        console.log(\"test\")\n        if(passwordAgain.current.value !== password.current.value){\n            password.current.setCustomValidity(\"密碼輸入不一致\")\n        }else{\n            password.current.setCustomValidity(\"\")\n        }\n    }\n    const handleClick = async (e) =>{\n        e.preventDefault();\n        setIsLoading(true)\n        console.log(password.current.value)\n        console.log(passwordAgain.current.value)\n        // if(passwordAgain.current.value !== password.current.value){\n        //     password.current.setCustomValidity(\"密不一致\")\n        // }else{\n        const user = {\n            username : username.current.value,\n            email : email.current.value,\n            password : password.current.value        \n        }\n        console.log(user)\n        try{\n            const res = await axios.post(\"/auth/local/signup\",user);\n            history.push(\"/login\")\n        }catch(err){\n            // setError(err.response.data.message)\n            console.log(err.response.data.message)\n            setError(err.response.data.message)\n        }\n        setIsLoading(false)\n    }\n    return (\n        <div className=\"login\">\n            <div className=\"loginWrapper\">\n                <div className=\"loginLeft\">\n                    <h3 className=\"loginLogo\">HardCo.Social</h3>\n                    <span className=\"loginDesc\">\n                        和朋友以及周圍的世界在HardCo.Social上建立連結吧.\n                    </span>\n                </div>\n                <div className=\"loginRight\">\n                    <div className=\"loginBox\">\n                        <form className=\"loginBox\" onSubmit={(e)=>handleClick(e)}>\n                            <input placeholder=\"用戶名稱\" \n                                ref={username}\n                                className=\"loginInput\"\n                                required \n                                minLength=\"3\"\n                                maxLength=\"12\"\n                            />\n                            <input placeholder=\"電子郵件\" \n                                ref={email} \n                                className=\"loginInput\" \n                                required\n                                type=\"email\"\n                            />\n                            <input placeholder=\"密碼\"    \n                                ref ={password} \n                                className=\"loginInput\" \n                                type=\"password\"\n                                required\n                                minLength=\"8\"\n                            />\n                            <input placeholder=\"再一次輸入密碼\"  \n                                ref={passwordAgain}\n                                className=\"loginInput\" \n                                type=\"password\"\n                                required\n                                onChange={checkPassword}\n                    \n                            />\n                            <button className=\"loginButton\" type=\"submit\">\n                                {isLoading?<CircularProgress color=\"white\" size=\"20px\"/> :\"註冊\" }\n                            </button>\n                        </form>\n                        {error!==null ?<span className=\"errorMessage\">{error}</span> : null}\n                        <Link className=\"loginRegisterLink\" to=\"/login\">\n                        <button className=\"loginRegisterButton\">\n                        {isLoading?<CircularProgress color=\"white\" size=\"20px\"/> :\"去登入\" }\n                        </button>\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import axios from 'axios';\nimport { useEffect , useState} from 'react'\nimport './conversation.css'\n\nexport default function Conversation({conversation ,currentUser}) {\n    const [user,setUser] = useState(null)\n\n\n    useEffect(()=>{\n        const friendId = conversation.members.find(m=> m !== currentUser._id);\n\n        const getUser = async()=>{\n            try{\n                const res = await axios(`/api/users?userId=${friendId}`)\n                setUser(res.data.data)\n            }catch(err){\n                console.log(err)\n            }\n        }\n        getUser();\n    },[currentUser,conversation])\n    return (\n        <div className=\"conversation\">\n            <img  className=\"conversationImg\" src={user&& user.profilePicture!==\"\" ?user.profilePicture :\"https://i.imgur.com/HeIi0wU.png\"} alt=\"\" />\n            <span className=\"conversationName\">{user&& user.username}</span>\n        </div>\n    )\n}\n","import './message.css'\nimport {format} from 'timeago.js'\nimport { useHistory } from 'react-router'\nexport default function Message({message,own,data}) {\n    let history = useHistory();\n    return (\n        <div className={own ? \"message own\" : \"message\"}>\n            <div className=\"messageTop\">\n                <div onClick={() => history.push({pathname:\"/profile\",state:{username: data.username}})}>\n                <img\n                 className=\"messageImg\"\n                 src={data && data.profilePicture!==\"\" ? data.profilePicture : \"https://i.imgur.com/HeIi0wU.png\"}\n                 alt=\"\" \n                />\n                </div>\n                <p className=\"messageText\">\n                    {message.text}\n                </p>\n            </div>\n            <div className=\"messageBottom\">\n                {format(message.createdAt)}\n            </div>\n        </div>\n    )\n}\n","import './chatOnline.css'\nimport axios from 'axios'\nimport { useState,useEffect } from 'react';\nexport default function ChatOnline({onlineUsers , currentId, setCurrentChat,switchChat}) {\n    const [friends,setFriends] = useState([]);\n    const [onlineFriends,setOnlineFriends] = useState([]);\n\n    useEffect(()=>{\n        const getFriends = async ()=>{\n            const res = await axios.get(\"/api/users/friends/\"+currentId)\n            setFriends(res.data.data)\n        }\n        getFriends();\n    },[currentId])\n    \n    useEffect(()=>{\n        setOnlineFriends(friends.filter(f=>onlineUsers.includes(f._id)))\n    },[friends,onlineUsers])\n\n    const handleClick = async(user)=>{\n        try{\n            let res = await axios.get(`/api/conversations/find/${currentId}/${user._id}`);\n            //不存在聊天室 建立一個\n            if (res.data.data==null){\n                console.log(\"沒有聊天室\")\n                const data  = {\n                    senderId:user._id,\n                    receiverId:currentId\n                }\n                res = await axios.post(\"/api/conversations/\",data)\n            }\n            switchChat(res.data.data)\n        }catch(err){\n            console.log(err)\n        }\n    }\n    return (\n        <div className=\"chatOnline\">\n            {friends.map( (o) =>(\n            <div className=\"chatOnlineFriend\" key={o._id} onClick={()=>handleClick(o) }>\n                <div className=\"chatOnlineImgContainer\">\n                    <img \n                        className=\"chatOnlineImg\"\n                        src={ o.profilePicture!==\"\" \n                            ? o.profilePicture \n                            :\"https://i.imgur.com/HeIi0wU.png\"\n                        }\n                        alt=\"\" \n                    />\n                    {onlineUsers.includes(o._id) &&<div className=\"chatOnlineBadge\"></div>}\n                </div>\n                <span className=\"chatOnlineName\">{o.username}</span>\n            </div> \n            ))}\n        </div>\n    )\n}\n","import './messenger.css'\nimport Topbar from \"../../components/topbar/Topbar\"\nimport Conversation from '../../components/conversations/Conversation'\nimport Message from '../../components/message/Message'\nimport ChatOnline from '../../components/chatOnline/ChatOnline'\nimport { useState,useEffect,useRef} from 'react'\nimport axios from 'axios'\nimport {io} from 'socket.io-client'\nimport { useLocation } from 'react-router-dom'\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { CircularProgress } from '@material-ui/core'\nimport { message } from 'statuses'\nimport InfiniteScrollReverse from \"react-infinite-scroll-reverse\";\nexport default function Messenger() {\n    let location = useLocation();\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    const [conversations,setConversations] = useState([]);\n    const [currentChat,setCurrentChat] = useState(null);\n    const [currentData,setCurrentData] = useState(null);\n    const [chatQuery,setChatQuery] = useState(\"m\");\n    const [messages,setMessages] = useState([]);\n    const [messagePage,setMessagePage] = useState(1);\n    const [messageHasMore,setMessageHasMore] = useState(true);\n    const [onlineUsers,setOnlineUsers] = useState([]);\n    const [arrivalMessage,setArrivalMessage] = useState(null);\n    const newMessage = useRef(\"\");\n    const socket = useRef();\n    const scrollRef = useRef();\n    useEffect(()=>{\n        console.log(\"try again\")\n        socket.current = io(process.env.REACT_APP_SOCKET_PORT,{ transports: ['websocket', 'polling', 'flashsocket'] }) //此處要替換成測試andq上線port \n        socket.current.on(\"getMessage\",data=>{\n            setArrivalMessage({\n                sender: data.senderId,\n                text: data.text,\n                createdAt: Date.now(),\n            })\n        })\n    },[])\n\n    useEffect(()=>{\n\tconsole.log(\"觸發更新\")\n        arrivalMessage && currentChat?.members.includes(arrivalMessage.sender)&&\n        setMessages(prev=>[...prev,arrivalMessage])\n    },[arrivalMessage,currentChat])\n\n    useEffect(()=>{\n        console.log(\"try\")\n        socket.current.emit(\"addUser\",user._id)\n        socket.current.on(\"getUsers\",users=>{\n            console.log(\"收到的訊息\",users)\n            setOnlineUsers(\n                user.friends.filter((f)=> users.some((u)=>u.userId===f))\n            );\n        })\n    },[])\n    \n    useEffect(()=>{\n        if(currentChat){\n            const getMessages = async()=>{\n                try{\n                    const res = await axios.get('/api/messages/'+currentChat._id+\"/\"+0)\n                    setMessages(res.data.data)\n                }catch(err){\n                    console.log(err)\n                }\n            };\n            getMessages();\n        }else{\n            console.log(\"沒有送\")\n        }\n    },[currentChat]);\n    useEffect(()=>{\n        const getConversations = async()=>{\n            try{\n                const res = await axios.get('/api/conversations/'+user._id)\n                setConversations(res.data.data)\n            }catch(err){\n                console.log(err)\n            }\n            \n        }\n        getConversations()\n    },[user._id])\n    useEffect(()=>{\n        scrollRef?.current?.scrollIntoView({behavior:\"smooth\"});\n    },[messages])\n    const handleSubmit = async(e)=>{\n        e.preventDefault();\n        console.log(newMessage.current.value)\n        const message = {\n            sender: user._id,\n            text: newMessage.current.value,\n            conversationId : currentChat._id,\n        };\n        const receiverId = currentChat.members.find(\n            (member)=> member !== user._id\n        );\n\n        socket.current.emit(\"sendMessage\",{\n            senderId: user._id,\n            receiverId,\n            text:newMessage.current.value,\n        })\n        console.log(user._id)\n        console.log(receiverId)\n        try{\n            const res = await axios.post(\"/api/messages\",message);\n            setMessages([...messages,res.data.data])\n            newMessage.current.value=\"\"\n            if(!onlineUsers.includes(receiverId)){\n                const  sendNotice = async ()=>{\n                    const notice = {\n                        senderId : user._id,\n                        object : \"message\",\n                        senderPic : user.profilePicture,\n                        senderUsername : user.username,\n                        receiverId\n                    }\n                    await axios.post('/api/notice',notice)\n                }\n                sendNotice()\n            }\n        }catch(err){\n            console.log(err)\n        }\n    };\n    useEffect(()=>{\n        try{\n            if (location.state.chat){\n                console.log(location.state.chat)\n                switchChat(location.state.chat)\n                const test = sessionStorage.getItem('reload', 0);\n                if (test<2){\n                    sessionStorage.setItem('reload', test + 1);\n                    console.log(\"count\")\n                    window.location.reload();\n                }else{\n                    \n                    sessionStorage.removeItem('reload');\n                }\n            }else{\n                console.log(\"\bwrong\")\n            }\n        }catch(err){\n            console.log(err)\n        }\n    },[])\n    const enterSubmit = async(event)=>{\n        if(event.key === 'Enter'){\n            handleSubmit(event)\n        }\n    }\n    const switchChat = (c)=>{\n        setCurrentChat(c)\n        //找到chat裡面的圖片 (因為一定有一個是自己，所以先不用管自己 後續利用own去做判斷 如果own就傳user.pc進去\n        //所以這邊要做的是找到另一個user的圖片 然後傳進去message裡面 才可以避免request太多次\n        const friendId = c.members.find(m=> m !== user._id);\n        const getUser = async()=>{\n            try{\n                const res = await axios(`/api/users?userId=${friendId}`)\n                setCurrentData(res.data.data)\n            }catch(err){\n                console.log(err)\n            }\n        }\n        getUser();\n    }\n    const fetchMessageData = async()=>{\n        const getMessages = async()=>{\n            try{\n                 const res = await axios.get('/api/messages/'+currentChat._id+\"/\"+messagePage)\n                 console.log(res.data.data)\n                 if(res.data.data.length===0){\n                     setMessageHasMore(false)\n                 }\n                 \n                 setMessages(prevMessages=>{\n                     return([...prevMessages,...res.data.data])\n                 });\n                 console.log(messages)\n                 setMessagePage(messagePage+1)\n                 console.log(messagePage)\n            }catch(err){\n                console.log(err)\n            }\n        } \n        getMessages()\n    }\n    return (\n        <>\n        <Topbar/>\n        <div className=\"messenger\">\n            <div className=\"chatMenu\">\n                <div className=\"chatMenuWrapper\">\n                    {/* <input placeholder=\"尋找朋友\" className=\"chatMenuInput\" type=\"text\" /> */}\n                    <h4 className=\"chatSidebarTitle\">正在聊天的視窗</h4>\n                    <hr/>\n                    {/* 利用query作filter? */}\n                    {conversations.map((c)=>(\n                        <div onClick={()=>switchChat(c)} key={c._id}>\n                            <Conversation conversation={c} currentUser={user} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n            <div className=\"chatBox\">\n                <div className=\"chatBoxWrapper\">\n                    {\n                        currentChat\n                    ?    \n                    <>\n                    <div className=\"chatBoxTop\"  id=\"scrollableDiv\" >\n                        {/* 此處加入infintite scroll */}\n                        {/* <InfiniteScroll\n                        dataLength={messages.length} //This is important field to render the next data\n                        next={()=>fetchMessageData()}\n                        hasMore={messageHasMore}\n                        loader={<div className=\"onLoading\"><CircularProgress  size=\"20px\"/></div>}\n                        \n                        scrollableTarget=\"scrollableDiv\"\n                        // endMessage={\n                        // <p style={{ textAlign: 'center' }}>\n                        //     <b> \"暫時沒有其他通知了！\" </b>\n                        // </p>\n                        // }\n                        > */}\n                        {messages.map((m)=>(\n                            <div ref={scrollRef} key={m._id} >\n                            <Message message={m} own={m.sender === user._id} data={m.sender === user._id ?user:currentData} />\n                            </div>\n                        ))}\n                        {/* </InfiniteScroll> */}\n                        \n                    </div>\n                    <div className=\"chatBoxBottom\">\n                        <textarea \n                            className=\"chatMessageInput\" \n                            placeholder=\"寫些什麼吧...\"\n                            ref = {newMessage}\n                            defaultValue  = {newMessage.current.value}\n                            onKeyPress={enterSubmit}\n                        >\n                        </textarea>\n                        <button className=\"chatSubmitButton\" onClick={handleSubmit}>送出</button>\n                    </div>\n    \n                    </>\n                    :(\n                        <span className=\"noConversationText\">找個人來聊聊天吧</span>\n                    )}\n                </div> \n            </div>\n            <div className=\"chatOnline\">\n                <div className=\"chatOnlineWrapper\">\n                <h4 className=\"chatSidebarTitle\">正在線上的好友</h4>\n                <hr/>\n                    <ChatOnline \n                        onlineUsers={onlineUsers} \n                        currentId={user._id} \n                        setCurrentChat= {setCurrentChat}\n                        switchChat = {switchChat}\n                    />\n                </div>\n            </div>\n        </div>\n        </>\n    )\n}\n","import './singlePost.css'\nimport Topbar from \"../../components/topbar/Topbar\"\nimport Post from \"../../components/post/Post\"\nimport { useParams } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useLocation } from 'react-router';\nexport default function SinglePost() {\n    //抓取postid來找使用者貼文\n    let location = useLocation();\n    //抓取postid來找使用者貼文\n    const [post,setPost] = useState(null)\n    //const postId = useParams().postId;\n    useEffect(() => {\n       const getPost = async()=>{\n\t   if (location.state.postId){\n                console.log(location.state.postId)\n            }else{\n                console.log(\"wrong\")\n            }\n           const res = await axios.get('/api/posts/'+location.state.postId)\n           setPost(res.data.data)\n       }\n       getPost()\n    }, [location.state.postId])\n    return (\n        <>\n        <Topbar/>\n        <div className = \"singlePost\">\n            <div className=\"singlePostLeft\"> \n            </div>\n            <div className=\"singlePostCenter\">\n                {post && <Post post ={post}/>}  \n            </div>\n            <div className=\"singlePostRight\">\n\n            </div>\n        </div>\n        </>\n    )\n}\n","import Home from './pages/home/Home'\nimport Login from './pages/login/Login';\nimport Profile from './pages/profile/Profile';\nimport Register from './pages/register/Register';\nimport Messenger from './pages/\bmessenger/Messenger';\nimport{\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  useHistory\n} from 'react-router-dom'\nimport axios from 'axios';\nimport SinglePost from './pages/singlePost/SinglePost';\nimport jwt_decode from \"jwt-decode\";\nfunction App() {\n  let history = useHistory();\n  const user = JSON.parse(localStorage.getItem(\"user\"))\n  const token = localStorage.getItem(\"token\")\n  //console.log(token)\n  //const jwt = process.env.REACT_APP_EXAMPLE_JWT\n  //設定axios的proxy\n  if(token!==null){\n    console.log(\"認證成功\")\n    axios.interceptors.request.use(function (config) {\n    config.headers.Authorization = \"Bearer \"+token  ;\n    return config;\n    });\n    const token_time = jwt_decode(token).exp*1000\n    console.log(token_time)\n    console.log(new Date(token_time))\n    console.log(new Date())\n    if( new Date()<new Date(token_time)){\n      console.log(\"還可以用\")\n    }else{\n      localStorage.clear()\n      history.push('/login')\n    }\n  }\n  // axios.interceptors.request.use(function (config) {\n  //   config.headers.Authorization = \"Bearer \"+token  ;\n  //   return config;\n  // });\n  axios.defaults.baseURL=process.env.REACT_APP_API\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {/* 確認有login才能進去Home */}\n          {user? <Home/> : <Register/> }\n        </Route>\n        <Route path=\"/login\">\n          {user? <Redirect to=\"/\"/> :<Login/>}\n        </Route>\n        <Route path=\"/register\">\n          {user? <Redirect to=\"/\"/> :<Register/>}  \n        </Route>\n        <Route path=\"/messenger\">\n          {!user? <Redirect to=\"/\" /> : <Messenger/>}\n        </Route>\n        <Route path=\"/profile\">\n          <Profile/>\n        </Route>\n        <Route path=\"/post/:postId\">\n          <SinglePost/>\n        </Route>\n        <Route path=\"/\">\n          <Home/>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {AuthContextProvider} from './context/AuthContext'\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n     <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}